{"version":3,"sources":["assets/Script/players/1-Player.js","assets/Script/players/2-Player.js","assets/Map/scripts/Bag.js","assets/Map/res/B1/Button.js","assets/Map/res/CharacterPreb/res/character_fold/ComputerTransmission.js","assets/Script/F5Collition.js","assets/Script/F5Enemy1.js","assets/Script/F5Enemy2.js","assets/Script/F5Failure.js","assets/Map/res/CharacterPreb/res/character_fold/FinallRoom.js","assets/Map/res/CharacterPreb/res/character_fold/Player.js","assets/Map/scripts/ReceiveMessage-B1.js","assets/Map/scripts/ReceiveMessage-F1.js","assets/Map/scripts/ReceiveMessage-F2.js","assets/Map/scripts/ReceiveMessage-F3.js","assets/Map/scripts/ReceiveMessage-F4.js","assets/Map/scripts/ReceiveMessage-F5.js","assets/Map/scripts/SendMessage.js","assets/Games/Stroke/res/character_fold/Stroke_Player.js","assets/Games/Stroke/scripts/Stroke.js","assets/Script/back_map.js","assets/Script/convert/data.js","assets/Script/dialog.js","assets/Script/gameInterface.js","assets/Script/mainMenu.js","assets/Map/res/Dialog/prefab/UI/moduleDialog.js","assets/Script/music.js","assets/Script/openingAnimation.js","assets/Script/pushbox.js","assets/Script/convert/scene_ctrl.js","assets/Script/convert/set_pos.js","assets/Script/soundEffect.js","assets/Script/convert/sub_ctrl.js","assets/Script/success.js","assets/Script/convert/super_ctrl.js","assets/Script/switch.js"],"names":["cc","Class","extends","Component","properties","animSpeed","moveable","playersize","v2","Grass","TiledLayer","Wall","Ornament","Shelf","Camera","RightDeriction","LeftDeriction","UpDeriction","DownDeriction","Box","deltax","deltay","onLoad","this","start","node","getChildByName","anim","getComponent","Animation","parent","tiledMap","TiledMap","getTileSize","tiledLayer","tiledTile","TiledTile","x","y","height","width","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onKeyDown","restart_move","stop_move","message","off","event","keyCode","macro","KEY","down","playAnim","anchorX","getTileGIDAt","console","log","pushGid","setTileGIDAt","up","left","right","clip","active","getAnimationState","isPlaying","play","speed","stopAnim","currentClip","name","stop","sample","update","dt","onDestroy","thing","Integer","visible","key","star","book","ACard","BCard","CCard","axe","book2","key2","player","enter","opacity","i","JSON","parse","sys","localStorage","getItem","_properties","Collision","Computer","scene","_defineProperty","CollisionID","loader","loadRes","err","object","error","scene_name","stringify","json","String","slice","director","loadScene","getCollisionManager","enabled","onCollisionEnter","other","self","group","rate","size","movable","OutCollision","find","leave","back_to_map","destroy","Button","Soil","resizeDialog","Prefab","dealmessage","detail","dialog","instantiate","init","addChild","setItem","dialog_text","Book","remove_book","Door","Machine","pause","resume","Star","TreasureBox","Key","thing_id","e","Event","EventCustom","dispatchEvent","times","mapsize","barrier","barrierNum","gone","goneNum","number","w","alert","s","a","d","grandfather","getMapSize","default_des","event_id","dm","available","data","dd","filename","legal_scene","game","addPersistRootNode","rank1","rank2","openDialog","space","evt","sceneName","button","localScene","getScene","xx","yy","callback","mainMenuCallback","effectPlayer","buttonPlay","playerScene","openingAnimationCallback","virtualGameCallback","pauseMenuCallback","saveFinishCallback","confirmCallback","settingsCallback","effect","preScene","music","musicPlayer","Label","string","playMusic","helpCallback","aboutCallback","title","content","Node","buttons","textItem","imgItem","simpleBtn","closeBtn","touch","stopPropagation","addLabel","addContentNode","contentNode","addImage","spriteFrame","spNode","Sprite","text","lb","setBackGround","colorOrSpriteFrame","bg","SpriteFrame","Color","r","g","b","color","setTitle","emptyContent","removeAllChildren","reset","disabledCloseBtn","enabledCloseBtn","addButton","eventHandler","btn","clickEventHandler","EventHandler","target","component","handler","customEventData","clickEvents","push","setEventData","btnName","eventData","disabledBtnByName","enabledBtnByName","close","hide","show","bgMusic","type","AudioClip","default","musicChannel","audioEngine","rank","data_module","event_list","report","enabledDebugDraw","length","file","preprocess","print","init_x","f","Number","init_y","tt","buttonSound","pickSound","switchSound","mainPlay","seChannel","mainSound","pickPlay","switchPlay","map_file","file_name"],"mappings":"+iBAUAA,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YACFC,UAAA,EACAC,UAAA,EAEMC,WAAAP,GAAAQ,GAAA,EAAA,GAEAC,MAAAT,GAAAU,WACNC,KAAAX,GAAAU,WACAE,SAAAZ,GAAAU,WACAG,MAAAb,GAAAU,WACAI,OAAAd,GAAAc,OAEAC,eAAAf,GAAAU,WACAM,cAAAhB,GAAAU,WACAO,YAAAjB,GAAAU,WACAQ,cAAAlB,GAAAU,WAEAS,IAAAnB,GAAAU,WAEAU,OAAA,EACAC,OAAA,GAIEC,OAAA,WAEFC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAGMN,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAENT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAGMV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAd,MAAAc,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAd,MAAAyB,WAAAX,KAAAd,MAAAmB,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACNH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YAEMa,KAAAX,SAAAW,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACNH,KAAAX,SAAAsB,WAAAX,KAAAX,SAAAgB,aAAA5B,GAAAU,YAEMa,KAAAV,MAAAU,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAV,MAAAqB,WAAAX,KAAAV,MAAAe,aAAA5B,GAAAU,YAGNa,KAAAJ,IAAAI,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,OACAH,KAAAJ,IAAAe,WAAAX,KAAAJ,IAAAS,aAAA5B,GAAAU,YAEMa,KAAAN,YAAAM,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,MACAH,KAAAN,YAAAiB,WAAAX,KAAAN,YAAAW,aAAA5B,GAAAU,YACAa,KAAAL,cAAAK,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACAH,KAAAL,cAAAgB,WAAAX,KAAAL,cAAAU,aAAA5B,GAAAU,YACAa,KAAAP,cAAAO,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACAH,KAAAP,cAAAkB,WAAAX,KAAAP,cAAAY,aAAA5B,GAAAU,YACAa,KAAAR,eAAAQ,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACNH,KAAAR,eAAAmB,WAAAX,KAAAR,eAAAa,aAAA5B,GAAAU,YAGAa,KAAAY,UAAAZ,KAAAE,KAAAG,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eACAH,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAIMf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACNhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAIAxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MAEAA,KAAAE,KAAAiB,GAAA,UAAAnB,KAAAwB,aAAAxB,MACAA,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAyB,UAAAzB,OAGDwB,aAAA,SAAAE,GACCjD,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGDyB,UAAA,SAAAC,GACCjD,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAIDuB,UAAA,SAAAK,GACC,OAAAA,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAC,KAIC,GAHAhC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAICqB,QAAAC,IAAA,SACA,MAID,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAGCqB,QAAAC,IAAA,SACA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAGAqB,QAAAC,IAAA,SACA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CACAqB,QAAAC,IAAA,SAEArC,KAAAsC,QAAAtC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAf,KAAAJ,IAAAe,WAAA4B,aAAA,EAAAvC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAf,KAAAY,UAAAG,GAAA,EAEAf,KAAAJ,IAAAe,WAAA4B,aAAAvC,KAAAsC,QAAAtC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,EAAA,GAGA,MAEDf,KAAAY,UAAAG,GAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAS,GAIC,GAHAxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAICqB,QAAAC,IAAA,SACA,MAGD,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAECqB,QAAAC,IAAA,SAEA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAEAqB,QAAAC,IAAA,SAEA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CAEAqB,QAAAC,IAAA,SACArC,KAAAsC,QAAAtC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAf,KAAAJ,IAAAe,WAAA4B,aAAA,EAAAvC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAf,KAAAY,UAAAG,GAAA,EAEAf,KAAAJ,IAAAe,WAAA4B,aAAAvC,KAAAsC,QAAAtC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,EAAA,GAGA,MAEDf,KAAAY,UAAAG,IAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAU,KAIC,GAHAzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAICqB,QAAAC,IAAA,SACA,MAGD,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAGCqB,QAAAC,IAAA,SACA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAGAqB,QAAAC,IAAA,SACA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAEAqB,QAAAC,IAAA,SACArC,KAAAsC,QAAAtC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAf,KAAAJ,IAAAe,WAAA4B,aAAA,EAAAvC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAf,KAAAY,UAAAE,GAAA,EAEAd,KAAAJ,IAAAe,WAAA4B,aAAAvC,KAAAsC,QAAAtC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,EAAA,GAGA,MAEDf,KAAAY,UAAAE,IAAA,EACA,MACD,KAAArC,GAAAqD,MAAAC,IAAAW,MAIC,GAHA1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAICqB,QAAAC,IAAA,SACA,MAGD,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAECqB,QAAAC,IAAA,SAEA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAEAqB,QAAAC,IAAA,SAEA,MACA,GAAArC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CAEAqB,QAAAC,IAAA,SACArC,KAAAsC,QAAAtC,KAAAJ,IAAAe,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAf,KAAAJ,IAAAe,WAAA4B,aAAA,EAAAvC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAf,KAAAY,UAAAE,GAAA,EAEAd,KAAAJ,IAAAe,WAAA4B,aAAAvC,KAAAsC,QAAAtC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,EAAA,GAGA,MAEDf,KAAAY,UAAAE,GAAA,IA6BHmB,SAAA,SAAAU,IACC3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGDmE,SAAA,WACC,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAKDE,OAAA,SAAAC,GACCvD,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EAAAd,KAAAH,OACAG,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAAAf,KAAAF,OACAE,KAAAN,YAAAiB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,IAEUf,KAAAY,UAAAG,IAEJf,KAAAL,cAAAgB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,IAEIf,KAAAY,UAAAG,IAEJf,KAAAP,cAAAkB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,IAEIf,KAAAY,UAAAE,IAEJd,KAAAR,eAAAmB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,IAEIf,KAAAY,UAAAE,KAIX0C,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,wHCpTFvB,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YACFC,UAAA,EACAC,UAAA,EAEMC,WAAAP,GAAAQ,GAAA,EAAA,GAEAC,MAAAT,GAAAU,WACNC,KAAAX,GAAAU,WACAE,SAAAZ,GAAAU,WACAG,MAAAb,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,GAIEC,OAAA,WAEFC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAGMN,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAENT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAGMV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAd,MAAAc,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAd,MAAAyB,WAAAX,KAAAd,MAAAmB,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACNH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YAEMa,KAAAX,SAAAW,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACNH,KAAAX,SAAAsB,WAAAX,KAAAX,SAAAgB,aAAA5B,GAAAU,YAEMa,KAAAV,MAAAU,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAV,MAAAqB,WAAAX,KAAAV,MAAAe,aAAA5B,GAAAU,YAGNa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eACAH,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAIMf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACNhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAKAxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MAEAA,KAAAE,KAAAiB,GAAA,UAAAnB,KAAAwB,aAAAxB,MACAA,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAyB,UAAAzB,OAIDwB,aAAA,SAAAE,GACCjD,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGDyB,UAAA,SAAAC,GACCjD,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAIDuB,UAAA,SAAAK,GACC,OAAAA,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAW,MAIC,GAHA1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAKAf,KAAAY,UAAAG,GAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAU,KAIC,GAHAzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAKAf,KAAAY,UAAAG,IAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAS,GAIC,GAHAxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAKAf,KAAAY,UAAAE,IAAA,EACA,MACD,KAAArC,GAAAqD,MAAAC,IAAAC,KAIC,GAHAhC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAKAf,KAAAY,UAAAE,GAAA,IA6BHmB,SAAA,SAAAU,IACC3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGDmE,SAAA,WACC,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAKDE,OAAA,SAAAC,GACCvD,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EAAAd,KAAAH,OACAG,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAAAf,KAAAF,QAGD0D,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,4GC7KFvB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAC,SAAA,EACAC,IAAAnF,GAAAG,UACAiF,KAAApF,GAAAG,UACAkF,KAAArF,GAAAG,UACAmF,MAAAtF,GAAAG,UACAoF,MAAAvF,GAAAG,UACAqF,MAAAxF,GAAAG,UACAsF,IAAAzF,GAAAG,UACAuF,MAAA1F,GAAAG,UACAwF,KAAA3F,GAAAG,UAEAyF,OAAA5F,GAAAoC,WAoBJU,UAAA,SAAAK,GACIA,EAAAC,SAAApD,GAAAqD,MAAAC,IAAAuC,QAAAtE,KAAA2D,SAAA3D,KAAA2D,SAEA3D,KAAAE,KAAAqE,QAAA,IAAAvE,KAAA2D,SAGJ5D,OAAA,WAEIC,KAAAqE,OAAArE,KAAAE,KAAAK,OACAP,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,WACAb,KAAAE,KAAAY,EAAA,IAAA,IAAAd,KAAAE,KAAAe,MACAjB,KAAAE,KAAAa,EAAA,GAEAtC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MACAA,KAAAE,KAAAqE,QAAA,IAAAvE,KAAA2D,QAGA3D,KAAA4D,IAAA5D,KAAAE,KAAAC,eAAA,OACAH,KAAA6D,KAAA7D,KAAAE,KAAAC,eAAA,QACAH,KAAA8D,KAAA9D,KAAAE,KAAAC,eAAA,QACAH,KAAA+D,MAAA/D,KAAAE,KAAAC,eAAA,SACAH,KAAAgE,MAAAhE,KAAAE,KAAAC,eAAA,SACAH,KAAAiE,MAAAjE,KAAAE,KAAAC,eAAA,SACAH,KAAAkE,IAAAlE,KAAAE,KAAAC,eAAA,OACAH,KAAAmE,MAAAnE,KAAAE,KAAAC,eAAA,SACAH,KAAAoE,KAAApE,KAAAE,KAAAC,eAAA,QACA,IAAA,IAAAqE,EAAA,EAAAA,EAAA,EAAAA,IACIxE,KAAAyD,MAAAe,GAAA,GAGRvE,MAAA,aAGAqD,OAAA,SAAAC,GAEIvD,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA,GAAA7E,KAAAyD,MAAA,GAAAzD,KAAA4D,IAAAW,QAAA,IAAAvE,KAAA4D,IAAAW,QAAA,EAIA,GAAAvE,KAAAyD,MAAA,GAAAzD,KAAA6D,KAAAU,QAAA,IAAAvE,KAAA6D,KAAAU,QAAA,EAIAvE,KAAA8D,KAAAS,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAA+D,MAAAQ,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAAgE,MAAAO,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAAiE,MAAAM,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAAkE,IAAAK,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAAmE,MAAAI,QAAA,IAAAvE,KAAAyD,MAAA,GACAzD,KAAAoE,KAAAG,QAAA,IAAAvE,KAAAyD,MAAA,+GCzFRhF,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,cAoBAkB,OAAA,WACFC,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,YAGDyC,KAAA,WACC/C,KAAAI,KAAA2C,QAEE9C,MAAA,kRC9BJxB,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YAAAiG,GACIhG,UAAA,EACAC,UAAA,EAEAC,WAAAP,GAAAQ,GAAA,EAAA,GACAG,KAAAX,GAAAU,WACA4F,UAAAtG,GAAAU,WAEA6F,SAAAvG,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,EACAmF,MAAA,iBAbJC,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,aAAAA,GAsBA/E,OAAA,WAEIC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAEAN,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAEAT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAEAV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACAH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YACAa,KAAAgF,SAAAhF,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACAH,KAAAgF,SAAArE,WAAAX,KAAAgF,SAAA3E,aAAA5B,GAAAU,YACAa,KAAA+E,UAAA/E,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,aACAH,KAAA+E,UAAApE,WAAAX,KAAA+E,UAAA1E,aAAA5B,GAAAU,YAIAa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eAEAH,KAAAH,OAAAG,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAF,OAAAE,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAEAf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACAhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAENxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MAEAA,KAAAE,KAAAiB,GAAA,UAAAnB,KAAAwB,aAAAxB,MACAA,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAyB,UAAAzB,OAGDwB,aAAA,SAAAE,GACCjD,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGDyB,UAAA,SAAAC,GACCjD,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAIEuB,UAAA,SAAAK,GACI,OAAAA,EAAAC,SACI,KAAApD,GAAAqD,MAAAC,IAAAC,KAII,GAHAhC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CACI,IAAAoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAqB,QAAAC,IAAA8C,GAEA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAMJzF,KAAAY,UAAAG,GAAA,EACA,MACJ,KAAAtC,GAAAqD,MAAAC,IAAAS,GAII,GAHAxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEJzF,KAAAY,UAAAG,IAAA,EACA,MACJ,KAAAtC,GAAAqD,MAAAC,IAAAU,KAII,GAHAzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEJzF,KAAAY,UAAAE,IAAA,EACA,MACJ,KAAArC,GAAAqD,MAAAC,IAAAW,MAII,GAHA1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEJzF,KAAAY,UAAAE,GAAA,IAQZmB,SAAA,SAAAU,IACI3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGJmE,SAAA,WACI,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAGJE,OAAA,SAAAC,KAKAC,UAAA,WAEI/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,4HCjMRvB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,cAaAkB,OAAA,WAEItB,GAAAqH,SAAAE,sBAAAC,SAAA,EAEAjG,KAAAE,KAAAC,eAAA,gBAAAyC,QAAA,GAIJsD,iBAAA,SAAAC,EAAAC,GACI,SAAAD,EAAAjG,KAAAmG,QAEIjE,QAAAC,IAAA8D,EAAAjG,KAAAmG,OACArG,KAAAE,KAAAC,eAAA,gBAAAyC,QAAA,IAKR3C,MAAA,4HCjCJxB,GAAAC,OACAC,QAAAF,GAAAG,UACAC,YACCC,UAAA,EACAC,UAAA,EAEGuH,KAAA,EAEAC,KAAA,EAEAvH,WAAAP,GAAAQ,GAAA,EAAA,GAEAC,MAAAT,GAAAU,WACHC,KAAAX,GAAAU,WACAE,SAAAZ,GAAAU,WACAG,MAAAb,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,GAIDC,OAAA,WAECC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,SAGG1B,GAAAqH,SAAAE,sBAAAC,SAAA,EAIAjG,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAEHT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAGGV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAd,MAAAc,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAd,MAAAyB,WAAAX,KAAAd,MAAAmB,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACHH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YAEGa,KAAAX,SAAAW,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACHH,KAAAX,SAAAsB,WAAAX,KAAAX,SAAAgB,aAAA5B,GAAAU,YAEGa,KAAAV,MAAAU,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAV,MAAAqB,WAAAX,KAAAV,MAAAe,aAAA5B,GAAAU,YAGHa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eACAH,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAGAtC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAKDuB,UAAA,SAAAK,GACI,IAAA4E,EAAA,EACH,OAAA5E,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAC,KACChC,KAAAE,KAAAgC,QAAA,EAEA,IAAA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,QAAAE,EAAA,GAMbxG,KAAAY,UAAAG,GAAAf,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAS,GACCxC,KAAAE,KAAAgC,QAAA,EAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,KAAAC,EAAA,GAMbxG,KAAAY,UAAAG,IAAAf,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAU,KACCzC,KAAAE,KAAAgC,SAAA,GAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,KAAAgC,EAAA,GAMbxG,KAAAY,UAAAE,IAAAd,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAW,MACC1C,KAAAE,KAAAgC,SAAA,GAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,KAAAgC,EAAA,GAMbxG,KAAAY,UAAAE,GAAAd,KAAAsG,KAAAE,IA8BHlD,OAAA,SAAAC,GACCvD,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EAAAd,KAAAH,OACAG,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAAAf,KAAAF,QAGD0D,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,sHCrJDvB,GAAAC,OACAC,QAAAF,GAAAG,UACAC,YACCC,UAAA,EACAC,UAAA,EACGuH,KAAA,EACAC,KAAA,EAEAvH,WAAAP,GAAAQ,GAAA,EAAA,GAEAC,MAAAT,GAAAU,WACHC,KAAAX,GAAAU,WACAE,SAAAZ,GAAAU,WACAG,MAAAb,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,GAIDC,OAAA,WAECC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,SAGG1B,GAAAqH,SAAAE,sBAAAC,SAAA,EAIAjG,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAEHT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAGGV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAd,MAAAc,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAd,MAAAyB,WAAAX,KAAAd,MAAAmB,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACHH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YAEGa,KAAAX,SAAAW,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACHH,KAAAX,SAAAsB,WAAAX,KAAAX,SAAAgB,aAAA5B,GAAAU,YAEGa,KAAAV,MAAAU,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAV,MAAAqB,WAAAX,KAAAV,MAAAe,aAAA5B,GAAAU,YAGHa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eACAH,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAIGf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACHhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAIAxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAKDuB,UAAA,SAAAK,GACI,IAAA4E,EAAA,EACH,OAAA5E,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAS,GACCxC,KAAAE,KAAAgC,QAAA,EAEA,IAAA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,OAAA,GAAAtG,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,QAAAE,EAAA,GAMbxG,KAAAY,UAAAG,GAAAf,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAC,KACChC,KAAAE,KAAAgC,QAAA,EAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,IAAA,GAAAvG,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA0D,EAAAxE,KAAAY,UAAAG,EAAAf,KAAAsG,KAAAtG,KAAAuG,KAAA,KAAAC,EAAA,GAMbxG,KAAAY,UAAAG,IAAAf,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAW,MACC1C,KAAAE,KAAAgC,SAAA,GAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAY,UAAAG,EAAAyD,KAAAgC,EAAA,GAMbxG,KAAAY,UAAAE,IAAAd,KAAAsG,KAAAE,EACA,MACD,KAAA/H,GAAAqD,MAAAC,IAAAU,KACCzC,KAAAE,KAAAgC,SAAA,GAEA,IAAAsC,EAAA,EAAAA,EAAAxE,KAAAuG,KAAA/B,IACa,GAAAxE,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,IAAA,GAAAxE,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAsG,KAAAtG,KAAAuG,KAAA,EAAAvG,KAAAY,UAAAG,EAAAyD,KAAAgC,EAAA,GAMbxG,KAAAY,UAAAE,GAAAd,KAAAsG,KAAAE,IA8BHlD,OAAA,SAAAC,GACCvD,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EAAAd,KAAAH,OACAG,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAAAf,KAAAF,QAGD0D,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,wHCzJDvB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,cAuBA2E,UAAA,WACI/E,GAAAqH,SAAAC,UAAA,OAGJ9F,MAAA,8PC9BJxB,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YAAAiG,GACIhG,UAAA,EACAC,UAAA,EAEAC,WAAAP,GAAAQ,GAAA,EAAA,GACAG,KAAAX,GAAAU,WACA4F,UAAAtG,GAAAU,WACAsH,aAAAhI,GAAAU,WACA6F,SAAAvG,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,EACAmF,MAAA,iBAbJC,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,iBAAAI,EAAAJ,EAAA,QAAA,aAAAA,GAsBA/E,OAAA,WAEIC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAEAN,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAEAT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAEAV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACAH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YACAa,KAAAgF,SAAAhF,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACAH,KAAAgF,SAAArE,WAAAX,KAAAgF,SAAA3E,aAAA5B,GAAAU,YACAa,KAAA+E,UAAA/E,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,aACAH,KAAA+E,UAAApE,WAAAX,KAAA+E,UAAA1E,aAAA5B,GAAAU,YACAa,KAAAyG,aAAAzG,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,gBACAH,KAAAyG,aAAA9F,WAAAX,KAAAyG,aAAApG,aAAA5B,GAAAU,YAEAa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eAEAH,KAAAH,OAAAG,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAF,OAAAE,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAEAf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACAhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAENxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MAEAA,KAAAE,KAAAiB,GAAA,UAAAnB,KAAAwB,aAAAxB,MACAA,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAyB,UAAAzB,OAGDwB,aAAA,SAAAE,GACCjD,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGDyB,UAAA,SAAAC,GACCjD,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGEuB,UAAA,SAAAK,GACI,OAAAA,EAAAC,SACI,KAAApD,GAAAqD,MAAAC,IAAAC,KAII,GAHAhC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CACI,IAAAoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAqB,QAAAC,IAAA8C,GAEA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEJ,GAAAzF,KAAAyG,aAAA9F,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,KACItC,GAAAiI,KAAA,UAAArG,aAAA,YAAAsG,OAAA,EACAlI,GAAAiI,KAAA,UAAArG,aAAA,YAAAuG,eAEJ5G,KAAAY,UAAAG,GAAA,EACA,MACJ,KAAAtC,GAAAqD,MAAAC,IAAAS,GAII,GAHAxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEb,GAAAzF,KAAAyG,aAAA9F,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,KACatC,GAAAiI,KAAA,UAAArG,aAAA,YAAAwG,SAAA,EACApI,GAAAiI,KAAA,UAAAG,SAEJ7G,KAAAY,UAAAG,IAAA,EACA,MACJ,KAAAtC,GAAAqD,MAAAC,IAAAU,KAII,GAHAzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEhB,GAAAzF,KAAAyG,aAAA9F,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,KACgBtC,GAAAiI,KAAA,UAAArG,aAAA,YAAAwG,SAAA,EACApI,GAAAiI,KAAA,UAAAG,SAEJ7G,KAAAY,UAAAE,IAAA,EACA,MACJ,KAAArC,GAAAqD,MAAAC,IAAAW,MAII,GAHA1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAEA,GAAA,GAAAf,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,CACIoE,EAAAnF,KAAA+E,UAAApE,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GACAqB,QAAAC,IAAA8C,GACA1G,GAAA2G,OAAAC,QAAA,iBAAA,SAAAC,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIAlD,QAAAC,IAAA8C,GACA,IAAAM,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAAC,OAAAT,KAAAU,MAAA,GAAA,GACApH,GAAAqH,SAAAC,UAAAN,MAEJ,MAEhB,GAAAzF,KAAAyG,aAAA9F,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,KACgBtC,GAAAiI,KAAA,UAAArG,aAAA,YAAAwG,SAAA,EACApI,GAAAiI,KAAA,UAAAG,SAEJ7G,KAAAY,UAAAE,GAAA,IAQZmB,SAAA,SAAAU,IACI3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGJmE,SAAA,WACI,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAGJE,OAAA,SAAAC,KAKAC,UAAA,WAEI/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,kHC5MRvB,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YACFC,UAAA,EACAC,UAAA,EAEMC,WAAAP,GAAAQ,GAAA,EAAA,GAEAC,MAAAT,GAAAU,WACNC,KAAAX,GAAAU,WACAE,SAAAZ,GAAAU,WACAG,MAAAb,GAAAU,WACAI,OAAAd,GAAAc,OAEAM,OAAA,EACAC,OAAA,GAIEC,OAAA,WAEFC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAGMN,KAAAE,KAAAK,OAAAA,OAAAC,SAAAR,KAAAE,KAAAK,OAAAA,OAAAF,aAAA5B,GAAAgC,UAENT,KAAAhB,WAAAgB,KAAAE,KAAAK,OAAAA,OAAAC,SAAAE,cAGMV,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAAd,MAAAc,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAd,MAAAyB,WAAAX,KAAAd,MAAAmB,aAAA5B,GAAAU,YAEAa,KAAAZ,KAAAY,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACNH,KAAAZ,KAAAuB,WAAAX,KAAAZ,KAAAiB,aAAA5B,GAAAU,YAEMa,KAAAX,SAAAW,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,YACNH,KAAAX,SAAAsB,WAAAX,KAAAX,SAAAgB,aAAA5B,GAAAU,YAEMa,KAAAV,MAAAU,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,SACAH,KAAAV,MAAAqB,WAAAX,KAAAV,MAAAe,aAAA5B,GAAAU,YAGNa,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAT,OAAAS,KAAAE,KAAAK,OAAAA,OAAAA,OAAAJ,eAAA,eACAH,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EACAd,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAIMf,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACNhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAIAxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,MAEAA,KAAAE,KAAAiB,GAAA,UAAAnB,KAAAwB,aAAAxB,MACAA,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAyB,UAAAzB,OAGDwB,aAAA,SAAAE,GACCjD,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAGDyB,UAAA,SAAAC,GACCjD,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAIDuB,UAAA,SAAAK,GACC,OAAAA,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAC,KAIC,GAHAhC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAKAf,KAAAY,UAAAG,GAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAS,GAIC,GAHAxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,GAAA,MAKAf,KAAAY,UAAAG,IAAA,EACA,MACD,KAAAtC,GAAAqD,MAAAC,IAAAU,KAIC,GAHAzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAKAf,KAAAY,UAAAE,IAAA,EACA,MACD,KAAArC,GAAAqD,MAAAC,IAAAW,MAIC,GAHA1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,GAEA,GAAAlC,KAAAd,MAAAyB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAZ,KAAAuB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAX,SAAAsB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAA,GAAAf,KAAAV,MAAAqB,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,GAAA,MAKAf,KAAAY,UAAAE,GAAA,IA6BHmB,SAAA,SAAAU,IACC3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGDmE,SAAA,WACC,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAKDE,OAAA,SAAAC,GACCvD,KAAAT,OAAAuB,EAAAd,KAAAE,KAAAY,EAAAd,KAAAH,OACAG,KAAAT,OAAAwB,EAAAf,KAAAE,KAAAa,EAAAf,KAAAF,QAGD0D,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,0IC3KFvB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAoD,OAAArI,GAAAG,UACAmI,KAAAtI,GAAAG,UAEAyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GAEI,OADAU,QAAAC,IAAAX,EAAAyF,QACAzF,EAAAyF,QACI,IAAA,SAER,IAAAC,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,kCACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAEY,MACJ,IAAA,OACI,GAAA,GAAAF,KAAAyD,MAAA,GAAA,CACIzD,KAAAqE,OAAAzD,UAAAG,IACfqG,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,gHACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,UACY,CAEGF,KAAA+G,KAAAF,UACA7G,KAAAyD,MAAA,KACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACf2D,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,SAODH,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAA8G,OAAA9G,KAAAE,KAAAC,eAAA,SAAAA,eAAA,aACAH,KAAA+G,KAAA/G,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,aAGAqD,OAAA,SAAAC,wIC3EJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAO,MAAAxF,GAAAG,UACAsF,IAAAzF,GAAAG,UACA8I,KAAAjJ,GAAAG,UACAmI,KAAAtI,GAAAG,UACN+I,YAAAlJ,GAAAG,UAEMyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GAEI,OADAU,QAAAC,IAAAX,EAAAyF,QACAzF,EAAAyF,QACI,IAAA,QACInH,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAiE,MAAA4C,UACZ,IAAAO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,kFACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,MACIF,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAkE,IAAA2C,UACZO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,OACIF,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAA0H,KAAAb,UACZO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,OACI,GAAA,GAAAF,KAAAyD,MAAA,GAAA,CACIzD,KAAAqE,OAAAzD,UAAAG,GAAA,EACfqG,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,iGACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,UACY,CAEGF,KAAA+G,KAAAF,UACfO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,8FACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAED,MACD,IAAA,aACC,GAAA,GAAAF,KAAAyD,MAAA,GAAA,CACCzD,KAAAqE,OAAAzD,UAAAE,GAAA,EACAsG,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,0GACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAED,MAED,IAAA,cACC,GAAA,GAAAF,KAAAyD,MAAA,GACChF,GAAAqH,SAAAC,UAAA,iBACA/F,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,YACA,CAEAzD,KAAAqE,OAAAzD,UAAAE,EAAA,GACAd,KAAAqE,OAAAzD,UAAAG,EAAA,GACAqG,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,4EACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAED,MACD,IAAA,OACCzB,GAAAkG,IAAAC,aAAA4C,QAAA,cAAA/C,KAAAiB,UAAA,OACSjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,KACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,KACTjH,GAAAqH,SAAAC,UAAA,MAEA,MACD,IAAA,cACCqB,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,WAAA,kCACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACAF,KAAAqE,OAAAzD,UAAAE,EAAA,IACAd,KAAAqE,OAAAzD,UAAAG,EAAA,KAMAhB,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAAiE,MAAAjE,KAAAE,KAAAC,eAAA,SAAAA,eAAA,YACAH,KAAAkE,IAAAlE,KAAAE,KAAAC,eAAA,SAAAA,eAAA,UACAH,KAAA0H,KAAA1H,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WACAH,KAAA+G,KAAA/G,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,WACI,GAAAD,KAAAyD,MAAA,IACIzD,KAAA0H,KAAAb,UAEJ,GAAA7G,KAAAyD,MAAA,IACIzD,KAAAiE,MAAA4C,UAEJ,GAAA7G,KAAAyD,MAAA,IACIzD,KAAAkE,IAAA2C,WAIRvD,OAAA,SAAAC,wICxIJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAK,MAAAtF,GAAAG,UACAkI,OAAArI,GAAAG,UACAgJ,KAAAnJ,GAAAG,UACAiJ,QAAApJ,GAAAG,UAEAyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GAEI,OADAU,QAAAC,IAAAX,EAAAyF,QACAzF,EAAAyF,QACI,IAAA,QACInH,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAA+D,MAAA8C,UACZ,IAAAO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAAG,YAAA,KACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,SAERkH,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,kCACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAEY,MACJ,IAAA,OACIF,KAAAqE,OAAAzD,UAAAG,GAAA,EACAtC,GAAAqH,SAAAgC,QACArJ,GAAAqH,SAAAiC,SACZX,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,0DACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MAEY,MACJ,IAAA,UAERkH,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,8CACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,QAOAH,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAA+D,MAAA/D,KAAAE,KAAAC,eAAA,SAAAA,eAAA,YACAH,KAAA8G,OAAA9G,KAAAE,KAAAC,eAAA,SAAAA,eAAA,aACAH,KAAA4H,KAAA5H,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WACAH,KAAA6H,QAAA7H,KAAAE,KAAAC,eAAA,SAAAA,eAAA,cAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,WACI,GAAAD,KAAAyD,MAAA,IACIzD,KAAA+D,MAAA8C,WAIRvD,OAAA,SAAAC,wICzFJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAM,MAAAvF,GAAAG,UACAoJ,KAAAvJ,GAAAG,UACAgJ,KAAAnJ,GAAAG,UAEAyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GACI,OAAAA,EAAAyF,QACI,IAAA,QACInH,KAAAyD,MAAA,GAAA,EACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAgE,MAAA6C,UACZ,IAAAO,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAAG,YAAA,KACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,OACIF,KAAAyD,MAAA,KACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAgI,KAAAnB,UACAzE,QAAAC,IAAArC,KAAAyD,MAAA,IACZ2D,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,OACIF,KAAAqE,OAAAzD,UAAAG,GAAA,EACZqG,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,wFACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,QAMAH,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAAgE,MAAAhE,KAAAE,KAAAC,eAAA,SAAAA,eAAA,YACAH,KAAAgI,KAAAhI,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WACAH,KAAA4H,KAAA5H,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,WACI,GAAAD,KAAAyD,MAAA,IACIzD,KAAAgE,MAAA6C,UAEJ,GAAA7G,KAAAyD,MAAA,IACIzD,KAAAgI,KAAAnB,WAIRvD,OAAA,SAAAC,wIClFJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAM,MAAAvF,GAAAG,UACAoJ,KAAAvJ,GAAAG,UACAgJ,KAAAnJ,GAAAG,UAEAyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GACI,OAAAA,EAAAyF,QACI,IAAA,OACInH,KAAAyD,MAAA,KACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAgI,KAAAnB,UACAzE,QAAAC,IAAArC,KAAAyD,MAAA,IACZ,IAAA2D,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,cAERkH,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,4BACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,QAOAH,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAAgI,KAAAhI,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WACAH,KAAAiI,YAAAjI,KAAAE,KAAAC,eAAA,SAAAA,eAAA,kBAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,aAIAqD,OAAA,SAAAC,wICtEJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI4E,OAAAhF,GAAAiF,SAEAsE,KAAAvJ,GAAAG,UACAsJ,IAAAzJ,GAAAG,UAEAyF,OAAA5F,GAAAoC,UACNmG,aAAAvI,GAAAwI,QAqBEC,YAAA,SAAAxF,GACI,OAAAA,EAAAyF,QACI,IAAA,OACInH,KAAAyD,MAAA,KACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAgI,KAAAnB,UACAzE,QAAAC,IAAArC,KAAAyD,MAAA,IACZ,IAAA2D,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAAG,YAAA,IACAhJ,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,MACY,MACJ,IAAA,MACIF,KAAAyD,MAAA,KACAhF,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAzD,KAAAkI,IAAArB,UACAzE,QAAAC,IAAArC,KAAAyD,MAAA,IACZ2D,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAA,IAAA,wCACA7I,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,QAMAH,OAAA,WAEIC,KAAAyD,MAAAgB,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,QAEA7E,KAAAE,KAAAiB,GAAA,OAAAnB,KAAAkH,YAAAlH,MAEAA,KAAAgI,KAAAhI,KAAAE,KAAAC,eAAA,SAAAA,eAAA,WACAH,KAAAkI,IAAAlI,KAAAE,KAAAC,eAAA,SAAAA,eAAA,UAEAH,KAAAqE,OAAArE,KAAAE,KAAAK,OAAAJ,eAAA,QAAAA,eAAA,SAAAA,eAAA,aACAH,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,YAGJZ,MAAA,aAIAqD,OAAA,SAAAC,0HCvEJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEIsJ,SAAA,IAoBJpI,OAAA,WACItB,GAAAqH,SAAAE,sBAAAC,SAAA,GAGJhG,MAAA,aAKAiG,iBAAA,SAAAC,EAAAC,GACI,IAAAgC,EAAA,IAAA3J,GAAA4J,MAAAC,YAAA,QAAA,GACAF,EAAAjB,OAAAnH,KAAAmI,SACAnI,KAAAE,KAAAqI,cAAAH,GAAA,6HCrCR3J,GAAAC,OACIC,QAAAF,GAAAG,UACAC,YACFC,UAAA,EACAC,UAAA,GAIEgB,OAAA,WAEFC,KAAAC,MAAAD,KAAAE,KAAAC,eAAA,MACAH,KAAAI,KAAAJ,KAAAK,aAAA5B,GAAA6B,WAEA7B,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAKDuB,UAAA,SAAAK,GACC,OAAAA,EAAAC,SACC,KAAApD,GAAAqD,MAAAC,IAAAC,KACChC,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,QAAA,EACA,MACD,KAAAzD,GAAAqD,MAAAC,IAAAS,GACCxC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,QAAA,EACA,MACD,KAAAzD,GAAAqD,MAAAC,IAAAU,KACCzC,KAAAiC,SAAA,QACAjC,KAAAE,KAAAgC,SAAA,GACA,MACD,KAAAzD,GAAAqD,MAAAC,IAAAW,MACC1C,KAAAiC,SAAA,SACAjC,KAAAE,KAAAgC,SAAA,KA6BHD,SAAA,SAAAU,IACC3C,KAAAC,MAAA2C,QAAA,EACA5C,KAAAI,KAAAyC,kBAAAF,GAAAG,aAGA9C,KAAAI,KAAA2C,KAAAJ,GACAK,MAAAhD,KAAAlB,YAGDmE,SAAA,WACC,IAAAC,EAAAlD,KAAAI,KAAA8C,YAAAC,KACAnD,KAAAI,KAAAgD,OACApD,KAAAI,KAAA2C,KAAAG,EAAA,GACAlD,KAAAI,KAAAiD,OAAAH,GACAlD,KAAAI,KAAAgD,QAKDE,OAAA,SAAAC,KAGAC,UAAA,WAEC/E,GAAAyC,YAAAS,IAAAlD,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,kHCvFFvB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI2J,MAAA,EAEAxJ,WAAAP,GAAAQ,GAAA,EAAA,GACAwJ,QAAAhK,GAAAQ,GAAA,EAAA,GAEAyJ,QAAAjK,GAAAU,WACAwJ,WAAA,EAEAC,KAAAnK,GAAAU,WACA0J,QAAA,EAEAC,OAAA,GAsBJvH,UAAA,SAAAK,GAEI,OAAAA,EAAAC,SACI,KAAApD,GAAAqD,MAAAC,IAAAS,IAAA/D,GAAAqD,MAAAC,IAAAgH,EAEI,GAAA/I,KAAA0I,QAAA/H,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAA2I,WAAA,CACIK,MAAA,YACA,MAFJ,GAAAhJ,KAAAE,KAAAK,OAAAI,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAA6I,QAAA,CAMIG,MAAA,SACAvK,GAAAqH,SAAAC,UAAA,UACA,MAEJ/F,KAAAY,UAAAG,IAAA,EAAAf,KAAAwI,MACAxI,KAAA8I,SACA,MACJ,KAAArK,GAAAqD,MAAAC,IAAAC,MAAAvD,GAAAqD,MAAAC,IAAAkH,EAEI,GAAAjJ,KAAA0I,QAAA/H,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAA2I,WAAA,CACIK,MAAA,YACA,MAFJ,GAAAhJ,KAAAE,KAAAK,OAAAI,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAAd,KAAAY,UAAAG,EAAA,IAAAf,KAAA6I,QAAA,CAMIG,MAAA,SACAvK,GAAAqH,SAAAC,UAAA,UACA,MAEJ/F,KAAAY,UAAAG,GAAA,EAAAf,KAAAwI,MACAxI,KAAA8I,SACA,MACJ,KAAArK,GAAAqD,MAAAC,IAAAU,MAAAhE,GAAAqD,MAAAC,IAAAmH,EAEI,GAAAlJ,KAAA0I,QAAA/H,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAA2I,WAAA,CACIK,MAAA,YACA,MAFJ,GAAAhJ,KAAAE,KAAAK,OAAAI,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAA6I,QAAA,CAMIG,MAAA,SACAvK,GAAAqH,SAAAC,UAAA,UACA,MAEJ/F,KAAAY,UAAAE,IAAA,EAAAd,KAAAwI,MACAxI,KAAA8I,SACA,MACJ,KAAArK,GAAAqD,MAAAC,IAAAW,OAAAjE,GAAAqD,MAAAC,IAAAoH,EAEI,GAAAnJ,KAAA0I,QAAA/H,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAA2I,WAAA,CACIK,MAAA,YACA,MAFJ,GAAAhJ,KAAAE,KAAAK,OAAAI,WAAAwB,aAAAnC,KAAAY,UAAAE,EAAA,EAAAd,KAAAY,UAAAG,IAAAf,KAAA6I,QAAA,CAMIG,MAAA,SACAvK,GAAAqH,SAAAC,UAAA,UACA,MAEJ/F,KAAAY,UAAAE,GAAA,EAAAd,KAAAwI,MACAxI,KAAA8I,SAGR9I,KAAAE,KAAAK,OAAAI,WAAA4B,aAAAvC,KAAA6I,QAAA7I,KAAAY,YAGJb,OAAA,WAEI,IAAAqJ,EAAApJ,KAAAE,KAAAK,OAAAA,OAEA6I,EAAA5I,SAAA4I,EAAA/I,aAAA5B,GAAAgC,UAEAT,KAAAhB,WAAAoK,EAAA5I,SAAAE,cAEAV,KAAAyI,QAAAW,EAAA5I,SAAA6I,aAGArJ,KAAAE,KAAAK,OAAAI,WAAAX,KAAAE,KAAAK,OAAAF,aAAA5B,GAAAU,YAEAa,KAAA0I,QAAA1I,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,WACAH,KAAA0I,QAAA/H,WAAAX,KAAA0I,QAAArI,aAAA5B,GAAAU,YACAa,KAAA2I,WAAA3I,KAAA0I,QAAA/H,WAAAwB,aAAA,EAAA,GAEAnC,KAAA4I,KAAA5I,KAAAE,KAAAK,OAAAA,OAAAJ,eAAA,QACAH,KAAA4I,KAAAjI,WAAAX,KAAA4I,KAAAvI,aAAA5B,GAAAU,YACAa,KAAA6I,QAAA7I,KAAA4I,KAAAjI,WAAAwB,aAAA,EAAA,GAGAnC,KAAAY,UAAAZ,KAAAK,aAAA5B,GAAAoC,WACAb,KAAAY,UAAAE,EAAAd,KAAAyI,QAAAxH,MAAA,EACAjB,KAAAY,UAAAG,EAAAf,KAAAyI,QAAAzH,OAAA,EACAhB,KAAAE,KAAAK,OAAAI,WAAA4B,aAAAvC,KAAA6I,QAAA7I,KAAAY,WAGAZ,KAAAE,KAAAc,OAAAhB,KAAAhB,WAAAgC,OACAhB,KAAAE,KAAAe,MAAAjB,KAAAhB,WAAAiC,MAKAxC,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAuB,UAAAvB,OAIJC,MAAA,aAGAqD,OAAA,SAAAC,GACI,IAAAvD,KAAA8I,SACIE,MAAA,YACAvK,GAAAiI,KAAA,UAAArG,aAAA,YAAAuG,cACA5G,KAAA8I,OAAA,mHCtJZrK,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAgBIyI,MAAA,EACAX,OAAA,EACA2C,aAAA,EACAC,SAAA,IAGJ3C,YAAA,WACI,GAAA5G,KAAA2G,MAAA,CACI,IAAA6C,EAAA/K,GAAAiI,KAAA,eAAArG,aAAA,QACA,GAAAmJ,EAAAC,YACAD,EAAA5H,MAAA5B,KAAAuJ,SACAC,EAAAC,UAAA,GACAhL,GAAA4D,IAAA,kBAAAqH,KAAA9H,SAKR7B,OAAA,WAEI,GADAC,KAAA2G,MAAA3G,KAAAsJ,YACAtJ,KAAAsH,KAAA,CACA,IAAAqC,EAAAlL,GAAAiI,KAAA,eAAArG,aAAA,SACAsJ,EAAAF,UAAA,KAAmBE,EAAAF,UAAA,GACnBhL,GAAA4D,IAAA,sBAIJpC,MAAA,aAKAuD,UAAA,oHC7CJ/E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACI+C,MAAA,GACA6H,UAAA,EACAG,SAAAnL,GAAAmH,OACAiE,YAAApL,GAAAmH,QAoBJ7F,OAAA,WACItB,GAAAqL,KAAAC,mBAAA/J,KAAAE,OAGJD,MAAA,aAIAqD,OAAA,SAAAC,GACI,GAAAvD,KAAAyJ,WAAsBrH,QAAAC,IAAA,cAAArC,KAAA4B,mHCnD9BnD,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACImI,aAAAvI,GAAAwI,OACN+C,MAAA,EACAC,MAAA,GAIElK,OAAA,WACFtB,GAAAyC,YAAAC,GAAA1C,GAAA2C,YAAAC,UAAAC,SAAAtB,KAAAkK,WAAAlK,OAIDkK,WAAA,SAAAtI,GACC,GAAAA,EAAAC,SAAApD,GAAAqD,MAAAC,IAAAoI,MACC,GAAA,MAAA1L,GAAAiI,KAAA,UAAAvG,eAAA,eAAAA,eAAA,gBAAA,CACC1B,GAAAiI,KAAA,UAAAvG,eAAA,eAAAA,eAAA,gBAAA0G,UAEA,IAAAuD,EAAA,IAAA3L,GAAA4J,MAAAC,YAAA,WAAA,GACA8B,EAAAjD,OAAA,UACAnH,KAAAE,KAAAqI,cAAA6B,OACA,CAEA,IAAAhD,EAAA3I,GAAA4I,YAAArH,KAAAgH,cAAA3G,aAAA,gBAAAiH,KAAAG,YAAAzH,KAAAgK,OAAAvC,YAAAzH,KAAAiK,QACAxL,GAAAiI,KAAA,UAAAvG,eAAA,eAAAoH,SAAAH,EAAAlH,QAOAoD,OAAA,SAAAC,GACF,GAAA,MAAA9E,GAAAiI,KAAA,UAAAvG,eAAA,eAAAA,eAAA,gBAAA,CACC,IAAAiK,EAAA,IAAA3L,GAAA4J,MAAAC,YAAA,QAAA,GACAtI,KAAAE,KAAAqI,cAAA6B,OACA,CAEAA,EAAA,IAAA3L,GAAA4J,MAAAC,YAAA,WAAA,GACAtI,KAAAE,KAAAqI,cAAA6B,8HC/BH,IAAAC,EAAA,GACA5L,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACI4E,OAAAhF,GAAAiF,SACA4G,OAAA7L,GAAA6L,OACAjG,OAAA5F,GAAAoC,WAqBJd,OAAA,WACIC,KAAAqE,OAAArE,KAAAE,KAAAK,OACAP,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,WACA,IAAA0J,EAAA9F,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,gBACA0F,GAAA9L,GAAAqH,SAAA0E,WAAArH,OACInD,KAAAqE,OAAAzD,UAAAE,EAAA2D,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,YACA7E,KAAAqE,OAAAzD,UAAAG,EAAA0D,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,aAEJ,IAAA4F,EAAAzK,KAAAqE,OAAAzD,UAAAE,EAAA4J,EAAA1K,KAAAqE,OAAAzD,UAAAG,EACA,MAAAwJ,GAAAE,GAAA,KAAAA,GAAA,KAAAC,GAAA,IAAAA,GAAA,MACI1K,KAAAqE,OAAAzD,UAAAE,EAAA,IACAd,KAAAqE,OAAAzD,UAAAG,EAAA,KAGJf,KAAAsK,OAAApK,KAAAiB,GAAA,QAAAnB,KAAA2K,SAAA3K,OAGJ4K,iBAAA,SAAAN,EAAAxJ,GAKI,GAJAd,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEAT,EAAA,WACA,GAAAvJ,QAEC,GAAA,GAAAA,EAEGrC,GAAAqH,SAAAC,UAAA,yBACH,GAAA,GAAAjF,EAAA,CAEG,IAAAiK,EAAAtG,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,gBACApG,GAAAqH,SAAAC,UAAAgF,QACH,GAAAjK,GAGA,GAAAA,GAEGrC,GAAAqH,SAAAC,UAAA,aAKRiF,yBAAA,SAAAV,EAAAxJ,GAII,GAHAd,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,EACIrC,GAAAqH,SAAAC,UAAA,iBACH,GAAA,GAAAjF,EAAA,CAEGrC,GAAAkG,IAAAC,aAAA4C,QAAA,cAAA/C,KAAAiB,UAAA,OACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,MACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,MACA,IAAA,IAAAlB,EAAA,EAAAA,EAAA,EAAAA,IACIxE,KAAAyD,MAAAe,GAAA,EAEJ/F,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAhF,GAAAqH,SAAAC,UAAA,QAIRkF,oBAAA,SAAAX,EAAAxJ,GACId,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,GACIrC,GAAAkG,IAAAC,aAAA4C,QAAA,cAAA/C,KAAAiB,UAAAjH,GAAAqH,SAAA0E,WAAArH,OACA1E,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA1F,KAAAqE,OAAAzD,UAAAE,IACArC,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA1F,KAAAqE,OAAAzD,UAAAG,IACAtC,GAAAqH,SAAAC,UAAA,cACH,GAAAjF,GAEGrC,GAAAqH,SAAAC,UAAA,KAIRmF,kBAAA,SAAAZ,EAAAxJ,GAKI,GAJAd,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEAT,EAAA,YACA,GAAAvJ,EAAA,CACI,IAAAiK,EAAAtG,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,gBACApG,GAAAqH,SAAAC,UAAAgF,QACH,GAAAjK,GAEGrC,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAhF,GAAAqH,SAAAC,UAAA,eACH,GAAAjF,IAGA,GAAAA,EAEGrC,GAAAqH,SAAAC,UAAA,YACH,GAAAjF,IAEGrC,GAAAkG,IAAAC,aAAA4C,QAAA,MAAA/C,KAAAiB,UAAA1F,KAAAyD,QACAhF,GAAAqH,SAAAC,UAAA,cAIRoF,mBAAA,SAAAb,EAAAxJ,GACId,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,GACIrC,GAAAqH,SAAAC,UAAA,cAIRqF,gBAAA,SAAAd,EAAAxJ,GACId,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,EACIrC,GAAAqH,SAAAC,UAAA,YACH,GAAAjF,GAEGrC,GAAAqH,SAAAC,UAAA,cAIRsF,iBAAA,SAAAf,EAAAxJ,GACI,IAAAwK,EAAA7G,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,WACA7E,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,IAAAS,EAAAlB,EACA,GAAA,GAAAvJ,EACI,IAAAyK,EACI9M,GAAAqH,SAAAC,UAAA,YAGAtH,GAAAqH,SAAAC,UAAAwF,QAEP,GAAA,GAAAzK,EAAA,CAEG,IAAA0K,EAAA/G,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,UACA7E,KAAAyL,YAAAhN,GAAAiI,KAAA,SAAArG,aAAA,SAEA,GAAAmL,GACIxL,KAAAE,KAAAK,OAAAJ,eAAA,eAAAA,eAAA,cAAAA,eAAA,SAAAE,aAAA5B,GAAAiN,OAAAC,OAAA,2BACAlN,GAAAkG,IAAAC,aAAA4C,QAAA,QAAA/C,KAAAiB,UAAA,IACA1F,KAAAyL,YAAAG,cAGA5L,KAAAE,KAAAK,OAAAJ,eAAA,eAAAA,eAAA,cAAAA,eAAA,SAAAE,aAAA5B,GAAAiN,OAAAC,OAAA,2BACAlN,GAAAkG,IAAAC,aAAA4C,QAAA,QAAA/C,KAAAiB,UAAA,IACA1F,KAAAyL,YAAA3D,cAEP,GAAAhH,EAEG,GAAAwK,GACItL,KAAAE,KAAAK,OAAAJ,eAAA,sBAAAA,eAAA,cAAAA,eAAA,SAAAE,aAAA5B,GAAAiN,OAAAC,OAAA,2BACAlN,GAAAkG,IAAAC,aAAA4C,QAAA,SAAA/C,KAAAiB,UAAA,MAGA1F,KAAAE,KAAAK,OAAAJ,eAAA,sBAAAA,eAAA,cAAAA,eAAA,SAAAE,aAAA5B,GAAAiN,OAAAC,OAAA,2BACAlN,GAAAkG,IAAAC,aAAA4C,QAAA,SAAA/C,KAAAiB,UAAA,KAEP,GAAA5E,EAEGrC,GAAAqH,SAAAC,UAAA,QACH,GAAAjF,GAEGrC,GAAAqH,SAAAC,UAAA,UAIR8F,aAAA,SAAAvB,EAAAxJ,GACId,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,GACIrC,GAAAqH,SAAAC,UAAA,aAIR+F,cAAA,SAAAxB,EAAAxJ,GACId,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAC,aAEA,GAAAhK,GACIrC,GAAAqH,SAAAC,UAAA,aAIR9F,MAAA,aAICqD,OAAA,SAAAC,GACFnB,QAAAC,IAAArC,KAAAqE,OAAAzD,UAAAE,GAAAsB,QAAAC,IAAArC,KAAAqE,OAAAzD,UAAAG,mHC1NHtC,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,cAqBAkB,OAAA,WACItB,GAAAqL,KAAAC,mBAAA/J,KAAAE,MACAzB,GAAAkG,IAAAC,aAAA4C,QAAA,QAAA/C,KAAAiB,UAAA,IACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,SAAA/C,KAAAiB,UAAA,KAGJzF,MAAA,oICxCJxB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACIkN,MAAAtN,GAAAiN,MACAM,QAAAvN,GAAAwN,KACAC,QAAAzN,GAAAwN,KACAE,SAAA1N,GAAAwI,OACAmF,QAAA3N,GAAAwI,OACAoF,UAAA5N,GAAAwI,OACAqF,SAAA7N,GAAAwN,MAIJlM,OAAA,aAKAuH,KAAA,SAAAyE,EAAAC,GAsBI,OArBAhM,KAAAE,KAAAiB,GAAA,aAAA,SAAAS,EAAA2K,GACI3K,EAAA4K,oBAGJxM,KAAAE,KAAAiB,GAAA,YAAA,SAAAS,EAAA2K,GACI3K,EAAA4K,oBAGJxM,KAAAE,KAAAiB,GAAA,cAAA,SAAAS,EAAA2K,GACI3K,EAAA4K,oBAGJxM,KAAAE,KAAAiB,GAAA,WAAA,SAAAS,EAAA2K,GACI3K,EAAA4K,yBAEJ,IAAAT,IACI/L,KAAA+L,MAAAJ,OAAAI,QAEJ,IAAAC,GACIhM,KAAAyM,SAAAT,GAEJhM,MAGJ0M,eAAA,SAAAC,GAEI,OADA3M,KAAAgM,QAAAzE,SAAAoF,GACA3M,MAGJ4M,SAAA,SAAAC,GACI,IAAAC,EAAArO,GAAA4I,YAAArH,KAAAoM,SAGA,OAFAU,EAAAzM,aAAA5B,GAAAsO,QAAAF,YAAAA,EACA7M,KAAAgM,QAAAzE,SAAAuF,GACA9M,MAGJyM,SAAA,SAAAO,GACI,IAAAC,EAAAxO,GAAA4I,YAAArH,KAAAmM,UAGA,OAFAc,EAAA5M,aAAA5B,GAAAiN,OAAAC,OAAAqB,EACAhN,KAAAgM,QAAAzE,SAAA0F,GACAjN,MAGJkN,cAAA,SAAAC,EAAA5I,GACI,IAAA6I,EAAApN,KAAAE,KAAAC,eAAA,cAiBA,YAhBA,IAAAgN,IACI1O,GAAA4D,IAAA,gBAEA8K,aAAA1O,GAAA4O,cACI5O,GAAA4D,IAAA,kBACA+K,EAAAjN,eAAA,cAAAE,aAAA5B,GAAAsO,QAAAF,YAAAM,GAEJA,aAAA1O,GAAA6O,QACI7O,GAAA4D,IAAA,iBAAA8K,EAAAI,EAAA,SAAAJ,EAAAK,EAAA,SAAAL,EAAAM,EAAA,QAAAN,EAAAjE,GACAkE,EAAAM,MAAAP,SAIR,IAAA5I,IACI6I,EAAA7I,QAAAA,GAEJvE,MAGJ2N,SAAA,SAAA5B,GAMI,OAJI/L,KAAA+L,MAAAJ,YADJ,IAAAI,EACIA,EAEA,2BAEJ/L,MAGJ4N,aAAA,WAEI,OADA5N,KAAAgM,QAAA6B,oBACA7N,MAGJ8N,MAAA,WAKI,OAJArP,GAAA4D,IAAA,SACArC,KAAA+L,MAAAJ,OAAA,GACA3L,KAAAgM,QAAA6B,oBACA7N,KAAAkM,QAAA2B,oBACA7N,MAGJ+N,iBAAA,WAEI,OADA/N,KAAAsM,SAAA1J,SAAA5C,KAAAsM,SAAA1J,QAAA,GACA5C,MAGJgO,gBAAA,WAEI,OADAhO,KAAAsM,SAAA1J,SAAA5C,KAAAsM,SAAA1J,QAAA,GACA5C,MAIJiO,UAAA,SAAAjB,EAAAkB,GACI,IAAAC,EAAA1P,GAAA4I,YAAArH,KAAAqM,gBACA,IAAAW,IACImB,EAAAhO,eAAA,SAAAE,aAAA5B,GAAAiN,OAAAC,OAAAqB,EACAmB,EAAAhL,KAAA6J,GAEJ,IAAAS,EAAAU,EAAA9N,aAAA5B,GAAAqI,QACA,QAAA,IAAAoH,EAAA,CACI,IAAAE,EAAA,IAAA3P,GAAAG,UAAAyP,aACAD,EAAAE,OAAAtO,KAAAE,KACAkO,EAAAG,UAAA,eAAAH,EAAAI,QAAA,QAEAJ,EAAAK,gBAAA,GACAhB,EAAAiB,YAAAC,KAAAP,QAEAX,EAAAiB,YAAAC,KAAAT,GACAzP,GAAA4D,IAAA,kCAAA6L,EAAAO,iBAKJ,OAFAzO,KAAAkM,QAAA3E,SAAA4G,GACA1P,GAAA4D,IAAA,cAAA2K,GACAhN,MAIJ4O,aAAA,SAAAC,EAAAC,GAGI,OAFA9O,KAAAkM,QAAA/L,eAAA0O,GACAxO,aAAA5B,GAAAqI,QAAA4H,YAAA,GAAAD,gBAAAK,EACA9O,MAGJ+O,kBAAA,SAAAF,GAEI,OADA7O,KAAAkM,QAAA/L,eAAA0O,GAAAjM,QAAA,EACA5C,MAGJgP,iBAAA,SAAAH,GAEI,OADA7O,KAAAkM,QAAA/L,eAAA0O,GAAAjM,QAAA,EACA5C,MAIJiP,MAAA,SAAArN,EAAA6M,GACIzO,KAAAE,KAAA2G,WAGJqI,KAAA,WACIlP,KAAAE,KAAA0C,SAAA5C,KAAAE,KAAA0C,QAAA,IAGJuM,KAAA,YACInP,KAAAE,KAAA0C,SAAA5C,KAAAE,KAAA0C,QAAA,6GC9JRnE,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACIyL,OAAA7L,GAAA6L,OAEA8E,SACIC,KAAA5Q,GAAA6Q,UACAC,QAAA,OAqBRxP,OAAA,WACItB,GAAAqL,KAAAC,mBAAA/J,KAAAE,MACAF,KAAA4L,aAGJA,UAAA,WAEI,GADAnH,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,YAEI7E,KAAAwP,aAAA/Q,GAAAgR,YAAA1M,KAAA/C,KAAAoP,SAAA,EAAA,KAIRtH,MAAA,WACIrJ,GAAAgR,YAAA3H,MAAA9H,KAAAwP,eAGJvP,MAAA,4IC7CJxB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACF6Q,KAAA,GAoBE3P,OAAA,WACFC,KAAAE,KAAAC,eAAA,SAAAY,EAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAY,EAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAY,EAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAY,EAAA,GACAf,KAAAE,KAAAC,eAAA,SAAAY,GAAA,GACAf,KAAAE,KAAAC,eAAA,SAAAY,GAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAY,GAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAY,GAAA,IACAf,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,GAEEtE,MAAA,aAIAqD,OAAA,SAAAC,GAEF,OAAAvD,KAAA0P,MACC,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,kHCxDV9F,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACIyL,OAAA7L,GAAA6L,OACAjG,OAAA5F,GAAAoC,WAoBJd,OAAA,WACIC,KAAAqE,OAAArE,KAAAE,KAAAK,OACAP,KAAAqE,OAAAzD,UAAAZ,KAAAqE,OAAAhE,aAAA5B,GAAAoC,WACAb,KAAAsK,OAAApK,KAAAiB,GAAA,QAAAnB,KAAA2K,SAAA3K,OAGJC,MAAA,aAIA0K,SAAA,SAAAL,GACI7L,GAAAkG,IAAAC,aAAA4C,QAAA,cAAA/C,KAAAiB,UAAA,OACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,MACAjH,GAAAkG,IAAAC,aAAA4C,QAAA,UAAA/C,KAAAiB,UAAA,MACAjH,GAAAqH,SAAAC,UAAA,0HCnCRtH,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAgBI8Q,aACIN,KAAA5Q,GAAAwN,KACAsD,QAAA,MAEJK,YACIP,KAAA5Q,GAAAmH,OACA2J,aAKRM,OAAA,SAAAjO,GACIQ,QAAAC,IAAAT,EAAAyN,MACA,IAAA3F,EAAA1J,KAAA2P,YAAAtP,aAAA,QACA+B,QAAAC,IAAA,qBAAAqH,EAAAD,WACA,GAAAC,EAAAD,YAAsBC,EAAA9H,MAAAA,EAAAyN,KAAA3F,EAAAD,UAAA,IAE1B1J,OAAA,WACIC,KAAA2P,YAAAlR,GAAAiI,KAAA,eACAjI,GAAAqH,SAAAE,sBAAAC,SAAA,EACAxH,GAAAqH,SAAAE,sBAAA8J,kBAAA,EACA,IAAA,IAAAtL,EAAA,EAAAA,EAAAxE,KAAA4P,WAAAG,OAAAvL,IACCxE,KAAAE,KAAAiB,GAAAnB,KAAA4P,WAAApL,GAAAxE,KAAA6P,OAAA7P,MACDoC,QAAAC,IAAA,gBAAArC,KAAA4P,WAAApL,KAGJvE,MAAA,0HC5CJxB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAgBImR,KAAA,GACAC,YAAA,EACAxK,WAAA,GACAyK,OAAA,GAKJnQ,OAAA,WACItB,GAAA4D,IAAArC,KAAAmQ,QACA,IAAA3G,EAAA/K,GAAAiI,KAAA,eAAArG,aAAA,QACA+P,EAAA,GACA,GAAA5G,EAAAC,WAAAD,EAAAK,aAAA7J,KAAAyF,aACIhH,GAAA4D,IAAA,eACAmH,EAAAC,UAAA,EACAD,EAAA5H,MAAA,GACA4H,EAAAK,YAAA,GACAuG,EAAA5G,EAAAI,SACAnL,GAAA4D,IAAA+N,GACApQ,KAAAgQ,KAAAI,IAIRnQ,MAAA,WAII,GAHAxB,GAAA4D,IAAA,eAAArC,KAAAgQ,MACAvR,GAAA4D,IAAA,aAAA5D,GAAAiI,KAAA,eACAjI,GAAA4D,IAAA,QAAA5D,GAAAiI,KAAA,gBACA1G,KAAAgQ,KAAAD,OAAA,EAAA,CACI,IAAA3J,EAAApG,KACAvB,GAAA2G,OAAAC,QAAArF,KAAAgQ,KAAA,SAAA1K,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIA,IAAA6K,EAAAE,OAAA5L,KAAAiB,UAAAH,EAAAI,KAAA,IACA2K,EAAAD,OAAA5L,KAAAiB,UAAAH,EAAAI,KAAA,IACAlH,GAAA4D,IAAA,YAAA+D,EAAA4J,MACAvR,GAAA4D,IAAA,YAAA8N,EAAAG,GACA7R,GAAA4D,IAAA,MAAA8N,EAAAG,GACA,IAAAC,EAAAnK,EAAAlG,KAAAG,aAAA5B,GAAAoC,WACA0P,EAAAzP,EAAAqP,EACAI,EAAAxP,EAAAuP,KAEJtQ,KAAAiQ,YAAA,OAGAjQ,KAAAiQ,YAAA,GAIR3M,OAAA,SAAAC,GACI,GAAAvD,KAAAkQ,MAAA,CACA,IAAAK,EAAAvQ,KAAAE,KAAAG,aAAA5B,GAAAoC,WACApC,GAAA4D,IAAAkO,EAAAzP,EAAAyP,EAAAxP,GACAf,KAAAiQ,iIC9ERxR,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAEI2R,aACInB,KAAA5Q,GAAA6Q,UACAC,QAAA,MAEJkB,WACIpB,KAAA5Q,GAAA6Q,UACAC,QAAA,MAEJmB,aACIrB,KAAA5Q,GAAA6Q,UACAC,QAAA,OAqBRxP,OAAA,WACItB,GAAAqL,KAAAC,mBAAA/J,KAAAE,OAQJyQ,SAAA,WAEI,GADAlM,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,aAEI7E,KAAA4Q,UAAAnS,GAAAgR,YAAA1M,KAAA/C,KAAA6Q,WAAA,EAAA,KAIR/F,WAAA,WAEI,GADArG,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,aAEI7E,KAAA4Q,UAAAnS,GAAAgR,YAAA1M,KAAA/C,KAAAwQ,aAAA,EAAA,KAIRM,SAAA,WAEI,GADArM,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,aAEI7E,KAAA4Q,UAAAnS,GAAAgR,YAAA1M,KAAA/C,KAAAyQ,WAAA,EAAA,KAIRM,WAAA,WAEI,GADAtM,KAAAC,MAAAjG,GAAAkG,IAAAC,aAAAC,QAAA,aAEI7E,KAAA4Q,UAAAnS,GAAAgR,YAAA1M,KAAA/C,KAAA0Q,aAAA,EAAA,KAIR5I,MAAA,WACIrJ,GAAAgR,YAAA3H,MAAA9H,KAAA4Q,YAGJ3Q,MAAA,4HC3EJxB,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACI0K,SAAA,IAqBJxJ,OAAA,WACIqC,QAAAC,IAAA,qBAGJpC,MAAA,aAGAiG,iBAAA,SAAAC,EAAAC,GACIhE,QAAAC,IAAA,cACArC,KAAAE,KAAAqI,cAAA,IAAA9J,GAAA4J,MAAAC,YAAAtI,KAAAuJ,UAAA,IACAnH,QAAAC,IAAA,kBAAArC,KAAAuJ,WAGJjG,OAAA,SAAAC,kHCxCJ9E,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YACF6Q,KAAA,GAoBG3P,OAAA,WAEHC,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,EACAvE,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,GAGEtE,MAAA,aAIAqD,OAAA,SAAAC,GAEF,OAAAvD,KAAA0P,MACC,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,GAAA,KAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAAvE,KAAA0P,OAAA,MACP,KAAA,EAAO1P,KAAAE,KAAAC,eAAA,SAAAoE,QAAA,MAAAvE,KAAAE,KAAAC,eAAA,SAAAoE,SAAA,wHC1CV9F,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,YAgBI8Q,aACIN,KAAA5Q,GAAAwN,KACAsD,QAAA,MAEJyB,SAAAvS,GAAAmH,QAKJ7F,OAAA,WACItB,GAAAqL,KAAAC,mBAAA/J,KAAAE,MACAkC,QAAAC,IAAA,sBACA5D,GAAA4D,IAAA,cAAArC,KAAA2P,YAAAtP,aAAA,QAAAoJ,WACAhL,GAAA2G,OAAAC,QAAArF,KAAAgR,SAAA,SAAA1L,EAAAC,GACID,EACI7G,GAAA+G,MAAAF,GAGJ7G,GAAA4D,IAAA,QAAAkD,EAAAI,KAAA,gBAIR1F,MAAA,aAIAqD,OAAA,SAAAC,GACI,IAAAmG,EAAA1J,KAAA2P,YAAAtP,aAAA,QACA,GAAAqJ,EAAAD,WACIhL,GAAA2G,OAAAC,QAAArF,KAAAgR,SAAA,SAAA1L,EAAAC,GACI,GAAAD,EACI7G,GAAA+G,MAAAF,OADJ,CAIA,IAAAG,EAAAhB,KAAAiB,UAAAH,EAAAI,KAAA+D,EAAA9H,OAAA,IAAAiE,MAAA,GAAA,GACAoL,EAAAxM,KAAAiB,UAAAH,EAAAI,KAAA+D,EAAA9H,OAAA,IAAAiE,MAAA,GAAA,GACApH,GAAA4D,IAAA,mBAAAoD,GACAhH,GAAAqH,SAAAC,UAAAN,GACAiE,EAAAD,UAAA,EACAC,EAAAE,SAAAqH,EACAvH,EAAA9H,MAAA,GACA8H,EAAAG,YAAApE,EACAhH,GAAA4D,IAAAqH,EAAAE,yHCnEhBnL,GAAAC,OACIC,QAAAF,GAAAG,UAEAC,cAoBAkB,OAAA,WACIC,KAAA6K,aAAApM,GAAAiI,KAAA,eAAArG,aAAA,eACAL,KAAA6K,aAAAkG,cAGJ9Q,MAAA","sourcesContent":["// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n\t\tanimSpeed: 1,\r\n\t\tmoveable: true,\r\n\t\t// 人物尺寸\r\n        playersize: cc.v2(0, 0),\r\n        // 用于识别地图中的障碍物\r\n        Grass: cc.TiledLayer,\r\n\t\tWall: cc.TiledLayer,\r\n\t\tOrnament: cc.TiledLayer,\r\n\t\tShelf: cc.TiledLayer,\r\n\t\tCamera: cc.Camera,\r\n\t\t//传送带游戏\r\n\t\tRightDeriction: cc.TiledLayer,\r\n\t\tLeftDeriction: cc.TiledLayer,\r\n\t\tUpDeriction: cc.TiledLayer,\r\n\t\tDownDeriction: cc.TiledLayer,\r\n\t\t//推箱子游戏\r\n\t\tBox: cc.TiledLayer,\r\n\t\t// 用于记录主相机位置\r\n\t\tdeltax: 0,\r\n\t\tdeltay: 0,\r\n    },\r\n\t// LIFE-CYCLE CALLBACKS:\r\n\t\r\n    onLoad () {\r\n\t\t//起始状态\r\n\t\tthis.start = this.node.getChildByName('f1');\r\n\t\tthis.anim = this.getComponent(cc.Animation);\r\n\r\n        // 获取tiledmap资源\r\n        this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n        // 获取tiledtile的长宽\r\n\t\tthis.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n\r\n        // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // 获取Grass的图块信息\r\n        this.Grass = this.node.parent.parent.getChildByName(\"Grass\");\r\n        this.Grass.tiledLayer = this.Grass.getComponent(cc.TiledLayer);\r\n        // 获取Wall的图块信息\r\n        this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n\t\tthis.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n\t\t// 获取Ornament的图块信息\r\n        this.Ornament = this.node.parent.parent.getChildByName(\"Ornament\");\r\n\t\tthis.Ornament.tiledLayer = this.Ornament.getComponent(cc.TiledLayer);\r\n\t\t// 获取Shelf的图块信息\r\n        this.Shelf = this.node.parent.parent.getChildByName(\"Shelf\");\r\n        this.Shelf.tiledLayer = this.Shelf.getComponent(cc.TiledLayer);\r\n\t\t\r\n\t\t// 获取箱子的图块信息\r\n\t\tthis.Box = this.node.parent.parent.getChildByName(\"Box\");\r\n\t\tthis.Box.tiledLayer = this.Box.getComponent(cc.TiledLayer);\r\n\t\t// 获取方向键的信息\r\n        this.UpDeriction = this.node.parent.parent.getChildByName(\"Up\");\r\n        this.UpDeriction.tiledLayer = this.UpDeriction.getComponent(cc.TiledLayer);\r\n        this.DownDeriction = this.node.parent.parent.getChildByName(\"Down\");\r\n        this.DownDeriction.tiledLayer = this.DownDeriction.getComponent(cc.TiledLayer);\r\n        this.LeftDeriction = this.node.parent.parent.getChildByName(\"Left\");\r\n        this.LeftDeriction.tiledLayer = this.LeftDeriction.getComponent(cc.TiledLayer);\r\n        this.RightDeriction = this.node.parent.parent.getChildByName(\"Right\");\r\n\t\tthis.RightDeriction.tiledLayer = this.RightDeriction.getComponent(cc.TiledLayer);\r\n\t\t\r\n        // 获取tiledtile信息，设置玩家初始位置\r\n\t\tthis.tiledTile = this.node.getComponent(cc.TiledTile);\r\n\t\tthis.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n\t\tthis.Camera.x = this.node.x;\r\n\t\tthis.Camera.y = this.node.y;\r\n\r\n\t\t\r\n        // 初始化player图像大小，符合地图\r\n        this.node.height = this.playersize.height;\r\n\t\tthis.node.width = this.playersize.width;\r\n\t\t\r\n\r\n\t\t//开始监听\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t\tthis.node.on(\"restart\",this.restart_move,this);\r\n\t\tthis.node.on(\"stop\",this.stop_move,this);\r\n\t},\r\n\t\r\n\trestart_move(message) {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\tstop_move(message) {\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\t// when key is pressed;\r\n\tonKeyDown(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tthis.playAnim('Front');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ){\r\n\t\t\t\t\tconsole.log(\"11111\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t//push_box, by Wang LuYao\r\n\t\t\t\t//console.log(\"00000\");\r\n\t\t\t\tif ((this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1)) && \r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 2))) {\r\n\t\t\t\t\t//alert(\"Barrier!\");\r\n\t\t\t\t\tconsole.log(\"22222\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) &&\r\n\t\t\t\t(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 2))){\r\n\t\t\t\t\t//alert(\"Too Many Box!\");\r\n\t\t\t\t\tconsole.log(\"33333\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if (this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1)) {//有箱子且无障碍物\r\n\t\t\t\t\tconsole.log(\"44444\");\r\n\t\t\t\t\t//this.Box.tiledLayer.getTiledTileAt(this.tiledTile.x, this.tiledTile.y - 1).y -= 1;\r\n\t\t\t\t\tthis.pushGid = this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1);\r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(0,this.tiledTile.x, this.tiledTile.y + 1);\r\n\t\t\t\t\tthis.tiledTile.y += 1; \r\n\t\t\t\t\t//console.log(this.pushGid);                    \r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(this.pushGid,this.tiledTile.x,this.tiledTile.y+1,1);  \r\n\t\t\t\t\t\r\n\t\t\t\t\t//  this.Player.tiledLayer.getTiledTileAt(this.Player.tiledTile.x, this.Player.tiledTile.y).y ++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tiledTile.y += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tthis.playAnim('Back');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ){\r\n\t\t\t\t\tconsole.log(\"11111\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t//推箱子判断\r\n\t\t\t\tif ((this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1)) && \r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 2))) {\r\n\t\t\t\t\tconsole.log(\"22222\");\r\n\t\t\t\t\t//alert(\"Barrier!\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) &&\r\n\t\t\t\t(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 2))){\r\n\t\t\t\t\tconsole.log(\"33333\");\r\n\t\t\t\t\t//alert(\"Too Many Box!\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if (this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1)) {//有箱子且无障碍物\r\n\t\t\t\t\t//this.Box.tiledLayer.getTiledTileAt(this.tiledTile.x, this.tiledTile.y - 1).y -= 1;\r\n\t\t\t\t\tconsole.log(\"44444\");\r\n\t\t\t\t\tthis.pushGid = this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1);\r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(0,this.tiledTile.x, this.tiledTile.y - 1);\r\n\t\t\t\t\tthis.tiledTile.y -= 1; \r\n\t\t\t\t\t//console.log(this.pushGid);                    \r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(this.pushGid,this.tiledTile.x,this.tiledTile.y-1,1);  \r\n\t\t\t\t\t\r\n\t\t\t\t\t//  this.Player.tiledLayer.getTiledTileAt(this.Player.tiledTile.x, this.Player.tiledTile.y).y ++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tiledTile.y += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tthis.playAnim('Left');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ){\r\n\t\t\t\t\tconsole.log(\"11111\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t//推箱子判断\r\n\t\t\t\tif ((this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y)) && \r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 2, this.tiledTile.y))) {\r\n\t\t\t\t\t//alert(\"Barrier!\");\r\n\t\t\t\t\tconsole.log(\"22222\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) &&\r\n\t\t\t\t(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x - 2, this.tiledTile.y))){\r\n\t\t\t\t\t//alert(\"Too Many Box!\");\r\n\t\t\t\t\tconsole.log(\"33333\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if (this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y)) {//有箱子且无障碍物\r\n\t\t\t\t\t//this.Box.tiledLayer.getTiledTileAt(this.tiledTile.x, this.tiledTile.y - 1).y -= 1;\r\n\t\t\t\t\tconsole.log(\"44444\");\r\n\t\t\t\t\tthis.pushGid = this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y);\r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(0,this.tiledTile.x - 1, this.tiledTile.y);\r\n\t\t\t\t\tthis.tiledTile.x -= 1; \r\n\t\t\t\t\t//console.log(this.pushGid);                    \r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(this.pushGid,this.tiledTile.x - 1,this.tiledTile.y,1);  \r\n\t\t\t\t\t\r\n\t\t\t\t\t//  this.Player.tiledLayer.getTiledTileAt(this.Player.tiledTile.x, this.Player.tiledTile.y).y ++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tiledTile.x += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tthis.playAnim('Right');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ){\r\n\t\t\t\t\tconsole.log(\"11111\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t//推箱子判断\r\n\t\t\t\tif ((this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y)) && \r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 2, this.tiledTile.y))) {\r\n\t\t\t\t\tconsole.log(\"22222\");\r\n\t\t\t\t\t//alert(\"Barrier!\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) &&\r\n\t\t\t\t(this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x + 2, this.tiledTile.y))){\r\n\t\t\t\t\tconsole.log(\"33333\");\r\n\t\t\t\t\t//alert(\"Too Many Box!\");\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t} else if (this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y)) {//有箱子且无障碍物\r\n\t\t\t\t\t//this.Box.tiledLayer.getTiledTileAt(this.tiledTile.x, this.tiledTile.y - 1).y -= 1;\r\n\t\t\t\t\tconsole.log(\"44444\");\r\n\t\t\t\t\tthis.pushGid = this.Box.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y);\r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(0,this.tiledTile.x + 1, this.tiledTile.y);\r\n\t\t\t\t\tthis.tiledTile.x += 1; \r\n\t\t\t\t\t//console.log(this.pushGid);                    \r\n\t\t\t\t\tthis.Box.tiledLayer.setTileGIDAt(this.pushGid,this.tiledTile.x + 1,this.tiledTile.y,1);  \r\n\t\t\t\t\t\r\n\t\t\t\t\t//  this.Player.tiledLayer.getTiledTileAt(this.Player.tiledTile.x, this.Player.tiledTile.y).y ++;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tthis.tiledTile.x += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},\r\n\r\n\t// when key is released;\r\n\t/*onKeyUp(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},*/\r\n\r\n\t/*\r\n\tstart () {\r\n\r\n\t},*/\r\n\t\r\n\t// 播放clip片段，clip：String\r\n\tplayAnim(clip){\r\n\t\tthis.start.active = false;\r\n\t\tif(this.anim.getAnimationState(clip).isPlaying){\r\n\t\t\treturn;\r\n\t\t}// 判断当前动画是否在运行，否则重新开始动画\r\n\t\tvar animState = this.anim.play(clip);\r\n\t\tanimState.speed = this.animSpeed;\r\n\t},\r\n\t// 停止播放，并将动画停止在第一帧\r\n\tstopAnim(){\t\t\r\n\t\tvar currentClip = this.anim.currentClip.name;\r\n\t\tthis.anim.stop();\r\n\t\tthis.anim.play(currentClip,0);\r\n\t\tthis.anim.sample(currentClip);\r\n\t\tthis.anim.stop();\t\t\r\n\t},\r\n\r\n\t\r\n\r\n\tupdate (dt) {\r\n\t\tthis.Camera.x = this.node.x + this.deltax;\r\n\t\tthis.Camera.y = this.node.y + this.deltay;\r\n\t\tif (this.UpDeriction.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y)){\r\n            //console.log(\"22222\");\r\n            this.tiledTile.y --;\r\n        }\r\n        if (this.DownDeriction.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y)){\r\n            //console.log(\"22222\");\r\n            this.tiledTile.y ++;\r\n        }\r\n        if (this.LeftDeriction.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y)){\r\n            //console.log(\"22222\");\r\n            this.tiledTile.x--;\r\n        }\r\n        if (this.RightDeriction.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y)){\r\n            //console.log(\"22222\");\r\n            this.tiledTile.x ++;\r\n        }\r\n\t},\r\n\t\r\n\tonDestroy () {\r\n\t\t//取消监听\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n\t\tanimSpeed: 1,\r\n\t\tmoveable: true,\r\n\t\t// 人物尺寸\r\n        playersize: cc.v2(0, 0),\r\n        // 用于识别地图中的障碍物\r\n        Grass: cc.TiledLayer,\r\n\t\tWall: cc.TiledLayer,\r\n\t\tOrnament: cc.TiledLayer,\r\n\t\tShelf: cc.TiledLayer,\r\n\t\tCamera: cc.Camera,\r\n\t\t// 用于记录主相机位置\r\n\t\tdeltax: 0,\r\n\t\tdeltay: 0,\r\n    },\r\n\t// LIFE-CYCLE CALLBACKS:\r\n\t\r\n    onLoad () {\r\n\t\t//起始状态\r\n\t\tthis.start = this.node.getChildByName('f1');\r\n\t\tthis.anim = this.getComponent(cc.Animation);\r\n\r\n        // 获取tiledmap资源\r\n        this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n        // 获取tiledtile的长宽\r\n\t\tthis.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n\r\n        // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // 获取Grass的图块信息\r\n        this.Grass = this.node.parent.parent.getChildByName(\"Grass\");\r\n        this.Grass.tiledLayer = this.Grass.getComponent(cc.TiledLayer);\r\n        // 获取Wall的图块信息\r\n        this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n\t\tthis.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n\t\t// 获取Ornament的图块信息\r\n        this.Ornament = this.node.parent.parent.getChildByName(\"Ornament\");\r\n\t\tthis.Ornament.tiledLayer = this.Ornament.getComponent(cc.TiledLayer);\r\n\t\t// 获取Shelf的图块信息\r\n        this.Shelf = this.node.parent.parent.getChildByName(\"Shelf\");\r\n        this.Shelf.tiledLayer = this.Shelf.getComponent(cc.TiledLayer);\r\n\r\n        // 获取tiledtile信息，设置玩家初始位置\r\n\t\tthis.tiledTile = this.getComponent(cc.TiledTile);\r\n\t\tthis.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n\t\tthis.Camera.x = this.node.x;\r\n\t\tthis.Camera.y = this.node.y;\r\n\r\n\t\t\r\n        // 初始化player图像大小，符合地图\r\n        this.node.height = this.playersize.height;\r\n\t\tthis.node.width = this.playersize.width;\r\n\t\t\r\n\t\t\r\n\r\n\t\t//开始监听\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t\tthis.node.on(\"restart\",this.restart_move,this);\r\n\t\tthis.node.on(\"stop\",this.stop_move,this);\r\n\r\n\t},\r\n\t\r\n\trestart_move(message) {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\tstop_move(message) {\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\t\r\n\t// when key is pressed;\r\n\tonKeyDown(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tthis.playAnim('Front');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.y += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tthis.playAnim('Back');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.y += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tthis.playAnim('Left');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.x += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tthis.playAnim('Right');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.x += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},\r\n\r\n\t// when key is released;\r\n\t/*onKeyUp(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},*/\r\n\r\n\t/*\r\n\tstart () {\r\n\r\n\t},*/\r\n\t\r\n\t// 播放clip片段，clip：String\r\n\tplayAnim(clip){\r\n\t\tthis.start.active = false;\r\n\t\tif(this.anim.getAnimationState(clip).isPlaying){\r\n\t\t\treturn;\r\n\t\t}// 判断当前动画是否在运行，否则重新开始动画\r\n\t\tvar animState = this.anim.play(clip);\r\n\t\tanimState.speed = this.animSpeed;\r\n\t},\r\n\t// 停止播放，并将动画停止在第一帧\r\n\tstopAnim(){\t\t\r\n\t\tvar currentClip = this.anim.currentClip.name;\r\n\t\tthis.anim.stop();\r\n\t\tthis.anim.play(currentClip,0);\r\n\t\tthis.anim.sample(currentClip);\r\n\t\tthis.anim.stop();\t\t\r\n\t},\r\n\r\n\t\r\n\r\n\tupdate (dt) {\r\n\t\tthis.Camera.x = this.node.x + this.deltax;\r\n\t\tthis.Camera.y = this.node.y + this.deltay;\r\n\t},\r\n\t\r\n\tonDestroy () {\r\n\t\t//取消监听\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 创建数组用于记录各个物品的获取情况，0为未有，1为已有\r\n        thing: [cc.Integer],\r\n        // 记录背包是否可见\r\n        visible: false,\r\n        key: cc.Component,\r\n        star: cc.Component,\r\n        book: cc.Component,\r\n        ACard: cc.Component,\r\n        BCard: cc.Component,\r\n        CCard: cc.Component,\r\n        axe: cc.Component,\r\n        book2: cc.Component,\r\n        key2: cc.Component,\r\n        // 挂载在人物节点下面\r\n        player: cc.TiledTile,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onKeyDown(event){\r\n        if(event.keyCode == cc.macro.KEY.enter)\r\n        this.visible = !this.visible;\r\n        this.node.opacity = this.visible * 155;\r\n\t},\r\n\r\n    onLoad () {\r\n        // 初始化背包显示的位置\r\n        this.player = this.node.parent;\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n        this.node.x = 960 / 2 - this.node.width * 1.1;\r\n        this.node.y = 10;\r\n        // 加入键盘监听，将背包初始化为不可见\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        this.node.opacity = this.visible * 255;\r\n\r\n        // 背包内各个物品的情况，有即可见，没有即不可见\r\n        this.key = this.node.getChildByName(\"key\");\r\n        this.star = this.node.getChildByName(\"star\");\r\n        this.book = this.node.getChildByName(\"book\");\r\n        this.ACard = this.node.getChildByName(\"ACard\");\r\n        this.BCard = this.node.getChildByName(\"BCard\");\r\n        this.CCard = this.node.getChildByName(\"card3\");\r\n        this.axe = this.node.getChildByName(\"axe\");\r\n        this.book2 = this.node.getChildByName(\"book2\");\r\n        this.key2 = this.node.getChildByName(\"key2\");\r\n        for(var i = 0; i < 9; i++)\r\n            this.thing[i] = 0;\r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    update (dt) {\r\n        // 读取背包情况\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 设置背包内物品的可见情况\r\n        if (this.thing[0] != 0)\r\n            this.key.opacity = 255;\r\n        else\r\n            this.key.opacity = 0;\r\n        if (this.thing[1] != 0)\r\n            this.star.opacity = 255;\r\n        else\r\n            this.star.opacity = 0;\r\n        this.book.opacity = this.thing[2] * 255;\r\n        this.ACard.opacity = this.thing[3] * 255;\r\n        this.BCard.opacity = this.thing[4] * 255;\r\n        this.CCard.opacity = this.thing[5] * 255;\r\n        this.axe.opacity = this.thing[6] * 255;\r\n        this.book2.opacity = this.thing[7] * 255;\r\n        this.key2.opacity = this.thing[8] * 255;\r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\tthis.anim = this.getComponent(cc.Animation);\r\n\t\t\r\n\t},\r\n\tplay(){\r\n\t\tthis.anim.play();\r\n\t},\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        animSpeed: 1,\r\n        moveable: true,\r\n        // ����ߴ�\r\n        playersize: cc.v2(0, 0),\r\n        Wall: cc.TiledLayer,\r\n        Collision: cc.TiledLayer,\r\n        //OutCollision: cc.TiledLayer,\r\n        Computer: cc.TiledLayer,\r\n        Camera: cc.Camera,\r\n        // ���ڼ�¼�����λ��\r\n        deltax: 0,\r\n        deltay: 0,\r\n        scene: \"ComputerRoom1\",\r\n        scene: \"ComputerRoom2\",\r\n        scene: \"ComputerRoom3\",\r\n        scene: \"ComputerRoom4\",\r\n        scene: \"ComputerRoom5\",\r\n        scene: \"FinalRoom\"\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        //��ʼ״̬\r\n        this.start = this.node.getChildByName('f1');\r\n        this.anim = this.getComponent(cc.Animation);\r\n        // ��ȡtiledmap��Դ\r\n        this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n        // ��ȡtiledtile�ĳ���\r\n        this.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n        // ��ȡGround��������ڽ�Tiledtile��ɾȥ����ʾ�Ѿ��߹���Ч��\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // ��ȡWall��ͼ����Ϣ\r\n        this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n        this.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n        this.Computer = this.node.parent.parent.getChildByName(\"Computer\");\r\n        this.Computer.tiledLayer = this.Computer.getComponent(cc.TiledLayer);\r\n        this.Collision = this.node.parent.parent.getChildByName(\"Collision\");\r\n        this.Collision.tiledLayer = this.Collision.getComponent(cc.TiledLayer);\r\n       // this.OutCollision = this.node.parent.parent.getChildByName(\"OutCollision\");\r\n        //this.OutCollision.tiledLayer = this.OutCollision.getComponent(cc.TiledLayer);\r\n        // ��ȡtiledtile��Ϣ��������ҳ�ʼλ��\r\n        this.tiledTile = this.getComponent(cc.TiledTile);\r\n        this.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n        //this.Camera = cc.find(\"Main Camera\");\r\n        this.deltax = this.Camera.x - this.node.x;\r\n        this.deltay = this.Camera.y - this.node.y;\r\n        // ��ʼ��playerͼ���С�����ϵ�ͼ\r\n        this.node.height = this.playersize.height;\r\n        this.node.width = this.playersize.width;\r\n        //��ʼ����\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t\tthis.node.on(\"restart\",this.restart_move,this);\r\n\t\tthis.node.on(\"stop\",this.stop_move,this);\r\n\t},\r\n\t\r\n\trestart_move(message) {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\tstop_move(message) {\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\r\n    // when key is pressed;\r\n    onKeyDown(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.down:\r\n                this.playAnim('Front');\r\n                this.node.anchorX = 0;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1);\r\n                    console.log(CollisionID);\r\n                    // console.log(\"ComputerRoom1\");\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID)\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n                //if (this.OutCollision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0) {\r\n                  //  cc.find(\"Canvas\").getComponent(\"back_map\").destroy = true;\r\n                    //cc.find(\"Canvas\").destroy;\r\n                //}\r\n                this.tiledTile.y += 1;\r\n                break;\r\n            case cc.macro.KEY.up:\r\n                this.playAnim('Back');\r\n                this.node.anchorX = 0;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID)\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n                this.tiledTile.y += -1;\r\n                break;\r\n            case cc.macro.KEY.left:\r\n                this.playAnim('Left');\r\n                this.node.anchorX = -0.5;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID)\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n                this.tiledTile.x += -1;\r\n                break;\r\n            case cc.macro.KEY.right:\r\n                this.playAnim('Right');\r\n                this.node.anchorX = -0.5;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID)\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n                this.tiledTile.x += 1;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    // ����clipƬ�Σ�clip��String\r\n    playAnim(clip) {\r\n        this.start.active = false;\r\n        if (this.anim.getAnimationState(clip).isPlaying) {\r\n            return;\r\n        }// �жϵ�ǰ�����Ƿ������У��������¿�ʼ����\r\n        var animState = this.anim.play(clip);\r\n        animState.speed = this.animSpeed;\r\n    },\r\n    // ֹͣ���ţ���������ֹͣ�ڵ�һ֡\r\n    stopAnim() {\r\n        var currentClip = this.anim.currentClip.name;\r\n        this.anim.stop();\r\n        this.anim.play(currentClip, 0);\r\n        this.anim.sample(currentClip);\r\n        this.anim.stop();\r\n    },\r\n\r\n    update(dt) {\r\n        //this.Camera.x = this.node.x + this.deltax;\r\n        //this.Camera.y = this.node.y + this.deltay;\r\n    },\r\n\r\n    onDestroy() {\r\n        //ȡ������\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        // cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        //����ײ���\r\n        cc.director.getCollisionManager().enabled = true;\r\n        //cc.director.getCollisionManager().enabledDebugDraw = true;\r\n        this.node.getChildByName(\"moduleDialog\").active = false;\r\n    },\r\n\r\n    //��ײ������ʾ��\r\n    onCollisionEnter: function (other, self) {\r\n        if (other.node.group == \"enemy\")\r\n            {\r\n            console.log(other.node.group);\r\n            this.node.getChildByName(\"moduleDialog\").active = true;\r\n            }\r\n        //cc.director.loadScene(\"F5\");         \r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n* UP: move upwards;\r\n* DOWN: move downwards;\r\n* LEFT: move to the left;\r\n* RIGHT: move to the right;\r\n* You can use two keys at the same time ;\r\n* When 'SHIFT' is pressed, the player will be speed up;\r\n*/\r\ncc.Class({\r\nextends: cc.Component,\r\nproperties: {\r\n\tanimSpeed: 1,\r\n\tmoveable: true,\r\n    //移动速度\r\n    rate:1,\r\n    //大小\r\n    size:1,\r\n\t// 人物尺寸\r\n    playersize: cc.v2(0, 0),\r\n    // 用于识别地图中的障碍物\r\n    Grass: cc.TiledLayer,\r\n\tWall: cc.TiledLayer,\r\n\tOrnament: cc.TiledLayer,\r\n\tShelf: cc.TiledLayer,\r\n\tCamera: cc.Camera,\r\n\t// 用于记录主相机位置\r\n\tdeltax: 0,\r\n\tdeltay: 0,\r\n},\r\n// LIFE-CYCLE CALLBACKS:\r\n\t\r\nonLoad () {\r\n\t//起始状态\r\n\tthis.start = this.node.getChildByName('ghost');\r\n\r\n    //打开碰撞检测\r\n    cc.director.getCollisionManager().enabled = true;\r\n    //cc.director.getCollisionManager().enabledDebugDraw = true;\r\n\r\n    // 获取tiledmap资源\r\n    this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n    // 获取tiledtile的长宽\r\n\tthis.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n\r\n    // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n    this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n    // 获取Grass的图块信息\r\n    this.Grass = this.node.parent.parent.getChildByName(\"Grass\");\r\n    this.Grass.tiledLayer = this.Grass.getComponent(cc.TiledLayer);\r\n    // 获取Wall的图块信息\r\n    this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n\tthis.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n\t// 获取Ornament的图块信息\r\n    this.Ornament = this.node.parent.parent.getChildByName(\"Ornament\");\r\n\tthis.Ornament.tiledLayer = this.Ornament.getComponent(cc.TiledLayer);\r\n\t// 获取Shelf的图块信息\r\n    this.Shelf = this.node.parent.parent.getChildByName(\"Shelf\");\r\n    this.Shelf.tiledLayer = this.Shelf.getComponent(cc.TiledLayer);\r\n\r\n    // 获取tiledtile信息，设置玩家初始位置\r\n\tthis.tiledTile = this.getComponent(cc.TiledTile);\r\n\tthis.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n\tthis.Camera.x = this.node.x;\r\n\tthis.Camera.y = this.node.y;\t\r\n\r\n\t//开始监听\r\n\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n},\r\n\r\n// when key is pressed;\r\nonKeyDown(event){\r\n    let movable = 1;\r\n\tswitch(event.keyCode){\r\n\t\tcase cc.macro.KEY.down:\r\n\t\t\tthis.node.anchorX = 0;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.y += this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.up:\r\n\t\t\tthis.node.anchorX = 0;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) )\r\n                    movable = 0;\r\n            }           \r\n\t\t\tthis.tiledTile.y += -this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.left:\r\n\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.x += -this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.right:\r\n\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.x += this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\t\t\t\r\n\t}\r\n},\r\n\r\n// when key is released;\r\n/*onKeyUp(event){\r\n\tswitch(event.keyCode){\r\n\t\tcase cc.macro.KEY.down:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.up:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.left:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.right:\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\t\t\t\r\n\t}\r\n},*/\r\n\r\n/*\r\nstart () {\r\n\r\n},*/\r\n\r\n\t\r\n\r\nupdate (dt) {\r\n\tthis.Camera.x = this.node.x + this.deltax;\r\n\tthis.Camera.y = this.node.y + this.deltay;\r\n},\r\n\t\r\nonDestroy () {\r\n\t//取消监听\r\n\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n* UP: move upwards;\r\n* DOWN: move downwards;\r\n* LEFT: move to the left;\r\n* RIGHT: move to the right;\r\n* You can use two keys at the same time ;\r\n* When 'SHIFT' is pressed, the player will be speed up;\r\n*/\r\ncc.Class({\r\nextends: cc.Component,\r\nproperties: {\r\n\tanimSpeed: 1,\r\n\tmoveable: true,\r\n    rate:1,\r\n    size:1,\r\n\t// 人物尺寸\r\n    playersize: cc.v2(0, 0),\r\n    // 用于识别地图中的障碍物\r\n    Grass: cc.TiledLayer,\r\n\tWall: cc.TiledLayer,\r\n\tOrnament: cc.TiledLayer,\r\n\tShelf: cc.TiledLayer,\r\n\tCamera: cc.Camera,\r\n\t// 用于记录主相机位置\r\n\tdeltax: 0,\r\n\tdeltay: 0,\r\n},\r\n// LIFE-CYCLE CALLBACKS:\r\n\t\r\nonLoad () {\r\n\t//起始状态\r\n\tthis.start = this.node.getChildByName('ghost');\r\n\r\n    //打开碰撞检测\r\n    cc.director.getCollisionManager().enabled = true;\r\n    //cc.director.getCollisionManager().enabledDebugDraw = true;\r\n\r\n    // 获取tiledmap资源\r\n    this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n    // 获取tiledtile的长宽\r\n\tthis.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n\r\n    // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n    this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n    // 获取Grass的图块信息\r\n    this.Grass = this.node.parent.parent.getChildByName(\"Grass\");\r\n    this.Grass.tiledLayer = this.Grass.getComponent(cc.TiledLayer);\r\n    // 获取Wall的图块信息\r\n    this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n\tthis.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n\t// 获取Ornament的图块信息\r\n    this.Ornament = this.node.parent.parent.getChildByName(\"Ornament\");\r\n\tthis.Ornament.tiledLayer = this.Ornament.getComponent(cc.TiledLayer);\r\n\t// 获取Shelf的图块信息\r\n    this.Shelf = this.node.parent.parent.getChildByName(\"Shelf\");\r\n    this.Shelf.tiledLayer = this.Shelf.getComponent(cc.TiledLayer);\r\n\r\n    // 获取tiledtile信息，设置玩家初始位置\r\n\tthis.tiledTile = this.getComponent(cc.TiledTile);\r\n\tthis.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n\tthis.Camera.x = this.node.x;\r\n\tthis.Camera.y = this.node.y;\r\n\r\n\t\t\r\n    // 初始化player图像大小，符合地图\r\n    this.node.height = this.playersize.height;\r\n\tthis.node.width = this.playersize.width;\r\n\t\t\r\n\r\n\t//开始监听\r\n\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n},\r\n\r\n// when key is pressed;\r\nonKeyDown(event){\r\n    let movable = 1;\r\n\tswitch(event.keyCode){\r\n\t\tcase cc.macro.KEY.up:\r\n\t\t\tthis.node.anchorX = 0;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y + this.rate) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.y += this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.down:\r\n\t\t\tthis.node.anchorX = 0;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + i, this.tiledTile.y - this.rate - this.size + 1) != 0 ) )\r\n                    movable = 0;\r\n            }           \r\n\t\t\tthis.tiledTile.y += -this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.right:\r\n\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) ||\r\n\t\t        (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x - this.rate, this.tiledTile.y - i) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.x += -this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.left:\r\n\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\tfor (var i=0;i < this.size;i++){\r\n                if( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) ||\r\n\t\t\t    (this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + this.rate + this.size - 1, this.tiledTile.y - i) != 0 ) )\r\n                    movable = 0;\r\n            }\r\n\t\t\tthis.tiledTile.x += this.rate * movable;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\t\t\t\r\n\t}\r\n},\r\n\r\n// when key is released;\r\n/*onKeyUp(event){\r\n\tswitch(event.keyCode){\r\n\t\tcase cc.macro.KEY.down:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.up:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.left:\r\n\t\t\tbreak;\r\n\t\tcase cc.macro.KEY.right:\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\t\t\t\r\n\t}\r\n},*/\r\n\r\n/*\r\nstart () {\r\n\r\n},*/\r\n\r\n\t\r\n\r\nupdate (dt) {\r\n\tthis.Camera.x = this.node.x + this.deltax;\r\n\tthis.Camera.y = this.node.y + this.deltay;\r\n},\r\n\t\r\nonDestroy () {\r\n\t//取消监听\r\n\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    //�رմ���ʱˢ�³���\r\n    onDestroy: function(){\r\n        cc.director.loadScene(\"F5\");\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        animSpeed: 1,\r\n        moveable: true,\r\n        // ����ߴ�\r\n        playersize: cc.v2(0, 0),\r\n        Wall: cc.TiledLayer,\r\n        Collision: cc.TiledLayer,\r\n        OutCollision: cc.TiledLayer,\r\n        Computer: cc.TiledLayer,\r\n        Camera: cc.Camera,\r\n        // ���ڼ�¼�����λ��\r\n        deltax: 0,\r\n        deltay: 0,\r\n        scene: \"ComputerRoom1\",\r\n        scene: \"ComputerRoom2\",\r\n        scene: \"ComputerRoom3\",\r\n        scene: \"ComputerRoom4\",\r\n        scene: \"ComputerRoom5\",\r\n        scene: \"FinalRoom\"\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        //��ʼ״̬\r\n        this.start = this.node.getChildByName('f1');\r\n        this.anim = this.getComponent(cc.Animation);\r\n        // ��ȡtiledmap��Դ\r\n        this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n        // ��ȡtiledtile�ĳ���\r\n        this.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n        // ��ȡGround��������ڽ�Tiledtile��ɾȥ����ʾ�Ѿ��߹���Ч��\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // ��ȡWall��ͼ����Ϣ\r\n        this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n        this.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n        this.Computer = this.node.parent.parent.getChildByName(\"Computer\");\r\n        this.Computer.tiledLayer = this.Computer.getComponent(cc.TiledLayer);\r\n        this.Collision = this.node.parent.parent.getChildByName(\"Collision\");\r\n        this.Collision.tiledLayer = this.Collision.getComponent(cc.TiledLayer);\r\n        this.OutCollision = this.node.parent.parent.getChildByName(\"OutCollision\");\r\n        this.OutCollision.tiledLayer = this.OutCollision.getComponent(cc.TiledLayer);\r\n        // ��ȡtiledtile��Ϣ��������ҳ�ʼλ��\r\n        this.tiledTile = this.getComponent(cc.TiledTile);\r\n        this.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n        //this.Camera = cc.find(\"Main Camera\");\r\n        this.deltax = this.Camera.x - this.node.x;\r\n        this.deltay = this.Camera.y - this.node.y;\r\n        // ��ʼ��playerͼ���С�����ϵ�ͼ\r\n        this.node.height = this.playersize.height;\r\n        this.node.width = this.playersize.width;\r\n       //��ʼ����\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t\tthis.node.on(\"restart\",this.restart_move,this);\r\n\t\tthis.node.on(\"stop\",this.stop_move,this);\r\n\t},\r\n\t\r\n\trestart_move(message) {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\tstop_move(message) {\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n    // when key is pressed;\r\n    onKeyDown(event) {\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.down:\r\n                this.playAnim('Front');\r\n                this.node.anchorX = 0;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1);\r\n                    console.log(CollisionID);\r\n                    // console.log(\"ComputerRoom1\");\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID);\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n                if (this.OutCollision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0) {\r\n                    cc.find(\"Canvas\").getComponent(\"back_map\").leave = true;\r\n                    cc.find(\"Canvas\").getComponent(\"back_map\").back_to_map();\r\n                }\r\n                this.tiledTile.y += 1;\r\n                break;\r\n            case cc.macro.KEY.up:\r\n                this.playAnim('Back');\r\n                this.node.anchorX = 0;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID);\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n\t\t\t    if (this.OutCollision.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0) {\r\n                    cc.find(\"Canvas\").getComponent(\"back_map\").destroy = true;\r\n                    cc.find(\"Canvas\").destroy;\r\n                }\r\n                this.tiledTile.y += -1;\r\n                break;\r\n            case cc.macro.KEY.left:\r\n                this.playAnim('Left');\r\n                this.node.anchorX = -0.5;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID);\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n\t\t\t\tif (this.OutCollision.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0) {\r\n                    cc.find(\"Canvas\").getComponent(\"back_map\").destroy = true;\r\n                    cc.find(\"Canvas\").destroy;\r\n                }\r\n                this.tiledTile.x += -1;\r\n                break;\r\n            case cc.macro.KEY.right:\r\n                this.playAnim('Right');\r\n                this.node.anchorX = -0.5;\r\n                // ���ǰ���ķ��������ϰ�����ƶ�\r\n                if (this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0)\r\n                    break;\r\n                if (this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0) {\r\n                    var CollisionID = this.Collision.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y);\r\n                    console.log(CollisionID);\r\n                    cc.loader.loadRes(\"Computer_Event\", function (err, object) {\r\n                        if (err) {\r\n                            cc.error(err);\r\n                            return;\r\n                        }\r\n                        console.log(CollisionID);\r\n                        var scene_name = JSON.stringify(object.json[String(CollisionID)]).slice(1, -1);\r\n                        cc.director.loadScene(scene_name);\r\n                    })\r\n                    break;\r\n                }\r\n\t\t\t\tif (this.OutCollision.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0) {\r\n                    cc.find(\"Canvas\").getComponent(\"back_map\").destroy = true;\r\n                    cc.find(\"Canvas\").destroy;\r\n                }\r\n                this.tiledTile.x += 1;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    },\r\n\r\n    // ����clipƬ�Σ�clip��String\r\n    playAnim(clip) {\r\n        this.start.active = false;\r\n        if (this.anim.getAnimationState(clip).isPlaying) {\r\n            return;\r\n        }// �жϵ�ǰ�����Ƿ������У��������¿�ʼ����\r\n        var animState = this.anim.play(clip);\r\n        animState.speed = this.animSpeed;\r\n    },\r\n    // ֹͣ���ţ���������ֹͣ�ڵ�һ֡\r\n    stopAnim() {\r\n        var currentClip = this.anim.currentClip.name;\r\n        this.anim.stop();\r\n        this.anim.play(currentClip, 0);\r\n        this.anim.sample(currentClip);\r\n        this.anim.stop();\r\n    },\r\n\r\n    update(dt) {\r\n        //this.Camera.x = this.node.x + this.deltax;\r\n        //this.Camera.y = this.node.y + this.deltay;\r\n    },\r\n\r\n    onDestroy() {\r\n        //ȡ������\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n        // cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n    },\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n\t\tanimSpeed: 1,\r\n\t\tmoveable: true,\r\n\t\t// 人物尺寸\r\n        playersize: cc.v2(0, 0),\r\n        // 用于识别地图中的障碍物\r\n        Grass: cc.TiledLayer,\r\n\t\tWall: cc.TiledLayer,\r\n\t\tOrnament: cc.TiledLayer,\r\n\t\tShelf: cc.TiledLayer,\r\n\t\tCamera: cc.Camera,\r\n\t\t// 用于记录主相机位置\r\n\t\tdeltax: 0,\r\n\t\tdeltay: 0,\r\n    },\r\n\t// LIFE-CYCLE CALLBACKS:\r\n\t\r\n    onLoad () {\r\n\t\t//起始状态\r\n\t\tthis.start = this.node.getChildByName('f1');\r\n\t\tthis.anim = this.getComponent(cc.Animation);\r\n\r\n        // 获取tiledmap资源\r\n        this.node.parent.parent.tiledMap = this.node.parent.parent.getComponent(cc.TiledMap);\r\n        // 获取tiledtile的长宽\r\n\t\tthis.playersize = this.node.parent.parent.tiledMap.getTileSize();\r\n\r\n        // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // 获取Grass的图块信息\r\n        this.Grass = this.node.parent.parent.getChildByName(\"Grass\");\r\n        this.Grass.tiledLayer = this.Grass.getComponent(cc.TiledLayer);\r\n        // 获取Wall的图块信息\r\n        this.Wall = this.node.parent.parent.getChildByName(\"Wall\");\r\n\t\tthis.Wall.tiledLayer = this.Wall.getComponent(cc.TiledLayer);\r\n\t\t// 获取Ornament的图块信息\r\n        this.Ornament = this.node.parent.parent.getChildByName(\"Ornament\");\r\n\t\tthis.Ornament.tiledLayer = this.Ornament.getComponent(cc.TiledLayer);\r\n\t\t// 获取Shelf的图块信息\r\n        this.Shelf = this.node.parent.parent.getChildByName(\"Shelf\");\r\n        this.Shelf.tiledLayer = this.Shelf.getComponent(cc.TiledLayer);\r\n\r\n        // 获取tiledtile信息，设置玩家初始位置\r\n\t\tthis.tiledTile = this.getComponent(cc.TiledTile);\r\n\t\tthis.Camera = this.node.parent.parent.parent.getChildByName(\"Main Camera\");\r\n\t\tthis.Camera.x = this.node.x;\r\n\t\tthis.Camera.y = this.node.y;\r\n\r\n\t\t\r\n        // 初始化player图像大小，符合地图\r\n        this.node.height = this.playersize.height;\r\n\t\tthis.node.width = this.playersize.width;\r\n\t\t\r\n\r\n\t\t//开始监听\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t\tthis.node.on(\"restart\",this.restart_move,this);\r\n\t\tthis.node.on(\"stop\",this.stop_move,this);\r\n\t},\r\n\t\r\n\trestart_move(message) {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\r\n\tstop_move(message) {\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t},\r\n\t\t\t\r\n\t// when key is pressed;\r\n\tonKeyDown(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tthis.playAnim('Front');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.y += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tthis.playAnim('Back');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.y += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tthis.playAnim('Left');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.x += -1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tthis.playAnim('Right');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\t// 如果前进的方向上有障碍物，则不移动\r\n\t\t\t\tif( (this.Grass.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Wall.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Ornament.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) ||\r\n\t\t\t\t(this.Shelf.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) != 0 ) )\r\n                    break;\r\n\t\t\t\tthis.tiledTile.x += 1;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},\r\n\r\n\t// when key is released;\r\n\t/*onKeyUp(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},*/\r\n\r\n\t/*\r\n\tstart () {\r\n\r\n\t},*/\r\n\t\r\n\t// 播放clip片段，clip：String\r\n\tplayAnim(clip){\r\n\t\tthis.start.active = false;\r\n\t\tif(this.anim.getAnimationState(clip).isPlaying){\r\n\t\t\treturn;\r\n\t\t}// 判断当前动画是否在运行，否则重新开始动画\r\n\t\tvar animState = this.anim.play(clip);\r\n\t\tanimState.speed = this.animSpeed;\r\n\t},\r\n\t// 停止播放，并将动画停止在第一帧\r\n\tstopAnim(){\t\t\r\n\t\tvar currentClip = this.anim.currentClip.name;\r\n\t\tthis.anim.stop();\r\n\t\tthis.anim.play(currentClip,0);\r\n\t\tthis.anim.sample(currentClip);\r\n\t\tthis.anim.stop();\t\t\r\n\t},\r\n\r\n\t\r\n\r\n\tupdate (dt) {\r\n\t\tthis.Camera.x = this.node.x + this.deltax;\r\n\t\tthis.Camera.y = this.node.y + this.deltay;\r\n\t},\r\n\t\r\n\tonDestroy () {\r\n\t\t//取消监听\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        Button: cc.Component,\r\n        Soil: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        console.log(message.detail);\r\n        switch(message.detail){\r\n            case \"Button\":\r\n                // 相应的响应函数\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F5---\",\"一个按钮？\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n  \r\n                break;\r\n            case \"Soil\":\r\n                if(this.thing[6] == 0){\r\n                    this.player.tiledTile.y ++;\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F5---\",\"一堆土，没有铲子之类的东西也弄不开吧\");\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                }    \r\n                else{\r\n                    this.Soil.destroy();\r\n                    this.thing[0] ++;\r\n                    cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F5---\",dialog_text[7]);\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                }   \r\n                break;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.Button = this.node.getChildByName(\"Thing\").getChildByName(\"B1-Button\");\r\n        this.Soil = this.node.getChildByName(\"Thing\").getChildByName(\"B1-Soil\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-B1\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        CCard: cc.Component,\r\n        axe: cc.Component,\r\n        Book: cc.Component,\r\n        Soil: cc.Component,\r\n\t\tremove_book: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        console.log(message.detail);\r\n        switch(message.detail){\r\n            case \"CCard\":\r\n                this.thing[5] = 1;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.CCard.destroy();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"C-card，看来离出去又近了一步呢\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"axe\":\r\n                this.thing[6] = 1;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.axe.destroy();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",dialog_text[6]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Book\":\r\n                this.thing[2] = 1;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.Book.destroy();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",dialog_text[3]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Soil\":\r\n                if(this.thing[6] == 0){\r\n                    this.player.tiledTile.y -= 1;\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"这里一堆杂土，得找一把铲子才行...\");\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                }\r\n                else{\r\n                    this.Soil.destroy();\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"（用铲子铲走土堆，可以通行了）\");\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                }\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"checkbooks\":\r\n\t\t\t\tif(this.thing[2] == 1){\r\n\t\t\t\t\tthis.player.tiledTile.x -= 1;\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"（滴滴滴）身上有未还的书不能通过！\");\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\tcase \"remove_book\":\r\n\t\t\t\tif(this.thing[2] == 1){\r\n\t\t\t\t\tcc.director.loadScene(\"ComputerRoom1\");\r\n\t\t\t\t\tthis.thing[2] = 0;\r\n\t\t\t\t\tcc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.player.tiledTile.x=92;\r\n\t\t\t\t\tthis.player.tiledTile.y=58;\r\n\t\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"还书机？可我没有书要还啊\");\r\n\t\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"F1B1\":\r\n\t\t\t\tcc.sys.localStorage.setItem('playerScene', JSON.stringify(\"B1\"));\r\n\t            cc.sys.localStorage.setItem('playerX', JSON.stringify(93));\r\n\t            cc.sys.localStorage.setItem('playerY', JSON.stringify(51));\r\n\t\t\t\tcc.director.loadScene(\"B1\");\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"borrowbooks\":\t\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\"---F1---\",\"自助借书机\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\t\t\t\tthis.player.tiledTile.x=143;\r\n\t\t\t\tthis.player.tiledTile.y=68;\r\n\t\t\t\tbreak;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.CCard = this.node.getChildByName(\"Thing\").getChildByName(\"F1-CCard\");\r\n        this.axe = this.node.getChildByName(\"Thing\").getChildByName(\"F1-axe\");\r\n        this.Book = this.node.getChildByName(\"Thing\").getChildByName(\"F1-Book\");\r\n        this.Soil = this.node.getChildByName(\"Thing\").getChildByName(\"F1-Soil\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-F1\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n        if(this.thing[2] != 0){\r\n            this.Book.destroy();\r\n        }\r\n        if(this.thing[5] != 0){\r\n            this.CCard.destroy();\r\n        }\r\n        if(this.thing[6] != 0){\r\n            this.axe.destroy();\r\n        }\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        ACard: cc.Component,\r\n        Button: cc.Component,\r\n        Door: cc.Component,\r\n        Machine: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        console.log(message.detail);\r\n        switch(message.detail){\r\n            case \"ACard\":\r\n                this.thing[3] = 1;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.ACard.destroy();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",dialog_text[10]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Button\":\r\n                // 需要调用函数，相应的小游戏\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"一个按钮？\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\r\n                break;\r\n            case \"Door\":\r\n                this.player.tiledTile.y += 2;\r\n                cc.director.pause();\r\n                cc.director.resume();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"这个门似乎打不开？\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\r\n                break;\r\n            case \"Machine\":\r\n                // 需要调用函数，稍后编写\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"一个神奇的机器\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\r\n                break;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.ACard = this.node.getChildByName(\"Thing\").getChildByName(\"F2-ACard\");\r\n        this.Button = this.node.getChildByName(\"Thing\").getChildByName(\"F2-Button\");\r\n        this.Door = this.node.getChildByName(\"Thing\").getChildByName(\"F2-Door\");\r\n        this.Machine = this.node.getChildByName(\"Thing\").getChildByName(\"F2-Machine\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-F2\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n        if(this.thing[3] != 0){\r\n            this.ACard.destroy();\r\n        }\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        BCard: cc.Component,\r\n        Star: cc.Component,\r\n        Door: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        switch(message.detail){\r\n            case \"BCard\":\r\n                this.thing[4] = 1;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.BCard.destroy();\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",dialog_text[10]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Star\":\r\n                this.thing[1]++;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.Star.destroy();\r\n                console.log(this.thing[1]);\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",dialog_text[8]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Door\":\r\n                this.player.tiledTile.y += 2;\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"门紧关着，似乎从里面才能打开\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.BCard = this.node.getChildByName(\"Thing\").getChildByName(\"F3-BCard\");\r\n        this.Star = this.node.getChildByName(\"Thing\").getChildByName(\"F3-Star\");\r\n        this.Door = this.node.getChildByName(\"Thing\").getChildByName(\"F3-Door\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-F3\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n        if(this.thing[4] != 0){\r\n            this.BCard.destroy();\r\n        }\r\n        if(this.thing[1] != 0){\r\n            this.Star.destroy();\r\n        }\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        BCard: cc.Component,\r\n        Star: cc.Component,\r\n        Door: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        switch(message.detail){\r\n            case \"Star\":\r\n                this.thing[1]++;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.Star.destroy();\r\n                console.log(this.thing[1]);\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",dialog_text[8]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"TreasureBox\":\r\n                // 需要其他代码\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"一个宝箱\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n\r\n                break;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.Star = this.node.getChildByName(\"Thing\").getChildByName(\"F4-Star\");\r\n        this.TreasureBox = this.node.getChildByName(\"Thing\").getChildByName(\"F4-TreasureBox\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-F4\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 记录本层物品的拾取情况\r\n        thing: [cc.Integer],\r\n        // 用于获取预置prefeb中的各个物品层\r\n        Star: cc.Component,\r\n        Key: cc.Component,\r\n        // 用于对人物的运动逻辑进行修改\r\n        player: cc.TiledTile,\r\n\t\tresizeDialog: cc.Prefab,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // 接收到碰撞信息后进行相应的处理\r\n    dealmessage(message) {\r\n        switch(message.detail){\r\n            case \"Star\":\r\n                this.thing[1]++;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.Star.destroy();\r\n                console.log(this.thing[1]);\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",dialog_text[8]);\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n            case \"Key\":\r\n                this.thing[0]++;\r\n                cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n                this.Key.destroy();\r\n                console.log(this.thing[0]);\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(\" \",\"又是一把钥匙\");\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\r\n                break;\r\n        }\r\n        \r\n    },\r\n\r\n    onLoad () {\r\n        // 读取初始化物品信息\r\n        this.thing = JSON.parse(cc.sys.localStorage.getItem('Bag'));\r\n        // 加入消息监听\r\n        this.node.on(\"sent\",this.dealmessage,this);\r\n        // 将脚本内声明的变量指向对应的图层\r\n        this.Star = this.node.getChildByName(\"Thing\").getChildByName(\"F5-Star\");\r\n        this.Key = this.node.getChildByName(\"Thing\").getChildByName(\"F5-Key\");\r\n        // 获取人物图层\r\n        this.player = this.node.parent.getChildByName(\"4-F5\").getChildByName(\"Shelf\").getChildByName(\"Character\");\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 用于标记物品的种类\r\n        thing_id: \"\",\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.director.getCollisionManager().enabled = true;\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // 发生碰撞后发出信号\r\n    onCollisionEnter(other,self){\r\n        var e = new cc.Event.EventCustom(\"sent\",true);\r\n        e.detail = this.thing_id;\r\n        this.node.dispatchEvent(e,true);\r\n    },\r\n    // update (dt) {},\r\n});\r\n","// Created by XIA Yuke\r\n/* This document is to contorl the movement of player, using Keyboard;\r\n\r\n * UP: move upwards;\r\n * DOWN: move downwards;\r\n * LEFT: move to the left;\r\n * RIGHT: move to the right;\r\n * You can use two keys at the same time ;\r\n * When 'SHIFT' is pressed, the player will be speed up;\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n\t\tanimSpeed: 1,\r\n\t\tmoveable: true\r\n    },\r\n\t// LIFE-CYCLE CALLBACKS:\r\n\t\r\n    onLoad () {\r\n\t\t//起始状态\r\n\t\tthis.start = this.node.getChildByName('f1');\r\n\t\tthis.anim = this.getComponent(cc.Animation);\r\n\t\t//开始监听\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t},\r\n\t\r\n\t// when key is pressed;\r\n\tonKeyDown(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tthis.playAnim('Front');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tthis.playAnim('Back');\r\n\t\t\t\tthis.node.anchorX = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tthis.playAnim('Left');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tthis.playAnim('Right');\r\n\t\t\t\tthis.node.anchorX = -0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},\r\n\r\n\t// when key is released;\r\n\t/*onKeyUp(event){\r\n\t\tswitch(event.keyCode){\r\n\t\t\tcase cc.macro.KEY.down:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.up:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.left:\r\n\t\t\t\tbreak;\r\n\t\t\tcase cc.macro.KEY.right:\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t}\r\n\t},*/\r\n\r\n\t/*\r\n\tstart () {\r\n\r\n\t},*/\r\n\t\r\n\t// 播放clip片段，clip：String\r\n\tplayAnim(clip){\r\n\t\tthis.start.active = false;\r\n\t\tif(this.anim.getAnimationState(clip).isPlaying){\r\n\t\t\treturn;\r\n\t\t}// 判断当前动画是否在运行，否则重新开始动画\r\n\t\tvar animState = this.anim.play(clip);\r\n\t\tanimState.speed = this.animSpeed;\r\n\t},\r\n\t// 停止播放，并将动画停止在第一帧\r\n\tstopAnim(){\t\t\r\n\t\tvar currentClip = this.anim.currentClip.name;\r\n\t\tthis.anim.stop();\r\n\t\tthis.anim.play(currentClip,0);\r\n\t\tthis.anim.sample(currentClip);\r\n\t\tthis.anim.stop();\t\t\r\n\t},\r\n\r\n\t\r\n\r\n\tupdate (dt) {\r\n\t},\r\n\t\r\n\tonDestroy () {\r\n\t\t//取消监听\r\n\t\tcc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n\t\t// cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this);\r\n\t},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // 行走速度\r\n        times: 1,\r\n        // 人物及地图尺寸\r\n        playersize: cc.v2(0, 0),\r\n        mapsize: cc.v2(0, 0),\r\n        // 用于识别地图中的障碍物\r\n        barrier: cc.TiledLayer,\r\n        barrierNum: 0,\r\n        // 用于识别地图中已走过的地方\r\n        gone: cc.TiledLayer,\r\n        goneNum: 0,\r\n        // 记录已经走过的方块数量\r\n        number: 0,\r\n\r\n\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    // 记录键盘按下的函数\r\n    onKeyDown (event) {\r\n        // set a flag when key pressed\r\n        switch(event.keyCode) {\r\n            case ( cc.macro.KEY.up || cc.macro.KEY.w ):\r\n                // 如果前进的方向上有障碍物，则给出提示并不移动\r\n                if(this.barrier.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) == this.barrierNum){\r\n                    alert(\"Barrier!\");\r\n                    break;\r\n                }\r\n                // 如果走到已经走过的地方，则提示失败并不移动\r\n                else if(this.node.parent.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y - 1) == this.goneNum){\r\n                    alert(\"Fail!\");\r\n                    cc.director.loadScene(\"Stroke\");\r\n                    break;\r\n                }\r\n                this.tiledTile.y += -1 * this.times;\r\n                this.number ++;\r\n                break;\r\n            case ( cc.macro.KEY.down || cc.macro.KEY.s ):\r\n                // 如果前进的方向上有障碍物，则给出提示并不移动\r\n                if(this.barrier.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) == this.barrierNum){\r\n                    alert(\"Barrier!\");\r\n                    break;\r\n                }\r\n                // 如果走到已经走过的地方，则提示失败并不移动\r\n                else if(this.node.parent.tiledLayer.getTileGIDAt(this.tiledTile.x, this.tiledTile.y + 1) == this.goneNum){\r\n                    alert(\"Fail!\");\r\n                    cc.director.loadScene(\"Stroke\");\r\n                    break;\r\n                }\r\n                this.tiledTile.y += 1 * this.times;\r\n                this.number ++;\r\n                break;\r\n            case ( cc.macro.KEY.left || cc.macro.KEY.a ):\r\n                // 如果前进的方向上有障碍物，则给出提示并不移动\r\n                if(this.barrier.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) == this.barrierNum){\r\n                    alert(\"Barrier!\");\r\n                    break;\r\n                }\r\n                // 如果走到已经走过的地方，则提示失败并不移动\r\n                else if(this.node.parent.tiledLayer.getTileGIDAt(this.tiledTile.x - 1, this.tiledTile.y) == this.goneNum){\r\n                    alert(\"Fail!\");\r\n                    cc.director.loadScene(\"Stroke\");\r\n                    break;\r\n                }\r\n                this.tiledTile.x += -1 * this.times;\r\n                this.number ++;\r\n                break;\r\n            case ( cc.macro.KEY.right || cc.macro.KEY.d ):\r\n                // 如果前进的方向上有障碍物，则给出提示并不移动\r\n                if(this.barrier.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) == this.barrierNum){\r\n                    alert(\"Barrier!\");\r\n                    break;\r\n                }\r\n                // 如果走到已经走过的地方，则提示失败并不移动\r\n                else if(this.node.parent.tiledLayer.getTileGIDAt(this.tiledTile.x + 1, this.tiledTile.y) == this.goneNum){\r\n                    alert(\"Fail!\");\r\n                    cc.director.loadScene(\"Stroke\");\r\n                    break;\r\n                }\r\n                this.tiledTile.x += 1 * this.times;\r\n                this.number ++;\r\n                break;\r\n        }\r\n        this.node.parent.tiledLayer.setTileGIDAt(this.goneNum, this.tiledTile);\r\n    },\r\n\r\n    onLoad () {\r\n        // 便于后续变量的识别\r\n        var grandfather = this.node.parent.parent;\r\n        // 获取tiledmap资源信息\r\n        grandfather.tiledMap = grandfather.getComponent(cc.TiledMap);\r\n        // 获取tiledtile的长宽\r\n        this.playersize = grandfather.tiledMap.getTileSize();\r\n        // 获取地图的tiled块数量\r\n        this.mapsize = grandfather.tiledMap.getMapSize();\r\n\r\n        // 获取Ground层对象，用于将Tiledtile块删去以显示已经走过的效果\r\n        this.node.parent.tiledLayer = this.node.parent.getComponent(cc.TiledLayer);\r\n        // 获取barrier的图块信息\r\n        this.barrier = this.node.parent.parent.getChildByName(\"Barrier\");\r\n        this.barrier.tiledLayer = this.barrier.getComponent(cc.TiledLayer);\r\n        this.barrierNum = this.barrier.tiledLayer.getTileGIDAt(0, 0);\r\n        // 获取gone的图块信息\r\n        this.gone = this.node.parent.parent.getChildByName(\"Gone\");\r\n        this.gone.tiledLayer = this.gone.getComponent(cc.TiledLayer);\r\n        this.goneNum = this.gone.tiledLayer.getTileGIDAt(6, 0);\r\n\r\n        // 获取tiledtile信息，设置玩家初始位置\r\n        this.tiledTile = this.getComponent(cc.TiledTile);\r\n        this.tiledTile.x = this.mapsize.width / 2;\r\n        this.tiledTile.y = this.mapsize.height - 1;\r\n        this.node.parent.tiledLayer.setTileGIDAt(this.goneNum, this.tiledTile);\r\n        \r\n        // 初始化player图像大小，符合地图\r\n        this.node.height = this.playersize.height;\r\n        this.node.width = this.playersize.width;\r\n\r\n        // 设置刷新时间\r\n        // cc.game.setFrameRate(15);\r\n        // 初始化键盘输入监听\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    },\r\n\r\n    \r\n    start () {\r\n    },\r\n\r\n    update (dt) {\r\n        if( this.number == 39){\r\n            alert(\"Success!\");\r\n            cc.find(\"Canvas\").getComponent(\"back_map\").back_to_map();\r\n            this.number = 0;\r\n        }        \r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        init:true,\r\n        leave:true,\r\n        default_des:true,\r\n        event_id:\"\",\r\n    },\r\n    \r\n    back_to_map(){\r\n        if(this.leave){\r\n            var dm=cc.find(\"data_module\").getComponent(\"data\");\r\n            if(dm.available==0){\r\n            dm.event=this.event_id;\r\n            dm.available=1;}\r\n            cc.log(\"data change to,\",data.event);\r\n            }\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.leave=this.default_des;\r\n        if(this.init){\r\n        var dd=cc.find(\"data_module\").getComponent(\"data\");\r\n        if(dd.available=2){dd.available=0;}\r\n        cc.log(\"data available=0\");\r\n        }\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n    onDestroy(){\r\n    },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n \r\n/* 数据模块，event为event_id,由各个场景进行更改\r\navailable 表示模块现在的状态：0-空闲；1-等待super-node执行跳转；2-切换场景后，等待场景读取filename\r\nfilename:由super-node负责修改，需用参数初始化的场景将参数保存在对应文件中\r\nlegal_scene:可以合理地在状态2下可以读取data其他参数的场景的名称，在场景中判断，不强制要求\r\n*/\r\ncc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        event:\"\",\r\n        available:0,\r\n        filename:cc.String,\r\n        legal_scene:cc.String,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n \r\n    // LIFE-CYCLE CALLBACKS:\r\n \r\n    onLoad () {\r\n        cc.game.addPersistRootNode(this.node);\r\n    },\r\n \r\n    start () {\r\n \r\n    },\r\n \r\n    update (dt) {\r\n        if(this.available==1){console.log(\"data event:\",this.event);}\r\n    },\r\n});\r\n \r\n","cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        resizeDialog: cc.Prefab,\r\n\t\trank1:0,\r\n\t\trank2:0,\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\t\tcc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.openDialog, this);\r\n    },\r\n\r\n\r\n\topenDialog: function(event){//新建一个对话框，按空格键打开或关闭\t\r\n\t\tif(event.keyCode == cc.macro.KEY.space){\r\n\t\t\tif(cc.find(\"Canvas\").getChildByName(\"Main Camera\").getChildByName(\"resizeDialog\")!=null){\t\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").getChildByName(\"resizeDialog\").destroy();\r\n\t\t\t\t\r\n\t\t\t\tvar evt = new cc.Event.EventCustom(\"restart\",false);\r\n\t\t\t\tevt.detail = \"restart\";\r\n\t\t\t\tthis.node.dispatchEvent(evt);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tvar dialog = cc.instantiate(this.resizeDialog).getComponent(\"moduleDialog\").init(dialog_text[this.rank1],dialog_text[this.rank2]);\t\r\n\t\t\t\tcc.find(\"Canvas\").getChildByName(\"Main Camera\").addChild(dialog.node);\t\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n\t\tif(cc.find(\"Canvas\").getChildByName(\"Main Camera\").getChildByName(\"resizeDialog\")!=null){\r\n\t\t\tvar evt = new cc.Event.EventCustom(\"stop\",false);\r\n\t\t\tthis.node.dispatchEvent(evt);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar evt = new cc.Event.EventCustom(\"restart\",false);\r\n\t\t\tthis.node.dispatchEvent(evt);\r\n\t\t}\r\n    },\r\n});","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\nvar sceneName = \"\";\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        thing: [cc.Integer],\r\n        button: cc.button,\r\n        player: cc.TiledTile,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n    onLoad: function () {\r\n        this.player = this.node.parent;\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n        var localScene = JSON.parse(cc.sys.localStorage.getItem('playerScene'));\r\n        if (localScene == cc.director.getScene().name) {\r\n            this.player.tiledTile.x = JSON.parse(cc.sys.localStorage.getItem('playerX'));\r\n            this.player.tiledTile.y = JSON.parse(cc.sys.localStorage.getItem('playerY'));\r\n        }\r\n        var xx = this.player.tiledTile.x, yy = this.player.tiledTile.y;\r\n        if (localScene == \"F1\" && xx >= 177 && xx <= 187 && yy >= 95 && yy <= 115) {\r\n            this.player.tiledTile.x = 185;\r\n            this.player.tiledTile.y = 120;\r\n        }\r\n\r\n        this.button.node.on('click', this.callback.this);\r\n    },\r\n\r\n    mainMenuCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n\r\n        sceneName = \"mainMenu\";\r\n        if (x == 1) {\r\n            //cc.director.loadScene(\"login&signup\");\r\n        }\r\n        else if (x == 2) {\r\n            cc.director.loadScene(\"openingAnimation\");\r\n        }\r\n        else if (x == 3) {\r\n            var playerScene = JSON.parse(cc.sys.localStorage.getItem('playerScene'));\r\n            cc.director.loadScene(playerScene);\r\n        }\r\n        else if (x == 4) {\r\n            //cc.director.loadScene(\"achievements\");\r\n        }\r\n        else if (x == 5) {\r\n            cc.director.loadScene(\"settings\");\r\n            \r\n        }\r\n    },\r\n\r\n    openingAnimationCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.director.loadScene(\"mainMenu\");\r\n        }\r\n        else if (x == 2) {\r\n            cc.sys.localStorage.setItem('playerScene', JSON.stringify(\"F1\"));\r\n            cc.sys.localStorage.setItem('playerX', JSON.stringify(185));\r\n            cc.sys.localStorage.setItem('playerY', JSON.stringify(120));\r\n            for (var i = 0; i < 9; i++) {\r\n                this.thing[i] = 0;\r\n            }\r\n            cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n            cc.director.loadScene(\"F1\");\r\n        }\r\n    },\r\n\r\n    virtualGameCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.sys.localStorage.setItem('playerScene', JSON.stringify(cc.director.getScene().name));\r\n            cc.sys.localStorage.setItem('playerX', JSON.stringify(this.player.tiledTile.x));\r\n            cc.sys.localStorage.setItem('playerY', JSON.stringify(this.player.tiledTile.y));\r\n            cc.director.loadScene(\"pauseMenu\");\r\n        }\r\n        else if (x == 2) {\r\n            cc.director.loadScene(\"\");\r\n        }\r\n    },\r\n\r\n    pauseMenuCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n\r\n        sceneName = \"pauseMenu\";\r\n        if (x == 1) {\r\n            var playerScene = JSON.parse(cc.sys.localStorage.getItem('playerScene'));\r\n            cc.director.loadScene(playerScene);\r\n        }\r\n        else if (x == 2) {\r\n            cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n            cc.director.loadScene(\"saveFinish\");\r\n        }\r\n        else if (x == 3) {\r\n            //cc.director.loadScene(\"achievements\");\r\n        }\r\n        else if (x == 4) {\r\n            cc.director.loadScene(\"settings\");\r\n        }\r\n        else if (x == 5) {\r\n            cc.sys.localStorage.setItem('Bag', JSON.stringify(this.thing));\r\n            cc.director.loadScene(\"confirm\");\r\n        }\r\n    },\r\n\r\n    saveFinishCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.director.loadScene(\"pauseMenu\");\r\n        }\r\n    },\r\n\r\n    confirmCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.director.loadScene(\"mainMenu\");\r\n        }\r\n        else if (x == 2) {\r\n            cc.director.loadScene(\"pauseMenu\");\r\n        }\r\n    },\r\n\r\n    settingsCallback: function (button, x) {\r\n        var effect = JSON.parse(cc.sys.localStorage.getItem('effect'));\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        var preScene = sceneName;\r\n        if (x == 1) {\r\n            if (preScene == \"\") {\r\n                cc.director.loadScene(\"mainMenu\");\r\n            }\r\n            else {\r\n                cc.director.loadScene(preScene);\r\n            }\r\n        }\r\n        else if (x == 2) {\r\n            var music = JSON.parse(cc.sys.localStorage.getItem('music'));\r\n            this.musicPlayer = cc.find(\"music\").getComponent(\"music\");\r\n            \r\n            if (music == 0) {\r\n                this.node.parent.getChildByName(\"musicButton\").getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label).string = \"音乐：开\";\r\n                cc.sys.localStorage.setItem('music', JSON.stringify(1));\r\n                this.musicPlayer.playMusic();\r\n            }\r\n            else {\r\n                this.node.parent.getChildByName(\"musicButton\").getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label).string = \"音乐：关\";\r\n                cc.sys.localStorage.setItem('music', JSON.stringify(0));\r\n                this.musicPlayer.pause();\r\n            }\r\n        }\r\n        else if (x == 3) {\r\n            if (effect == 0) {\r\n                this.node.parent.getChildByName(\"soundEffectsButton\").getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label).string = \"音效：开\";\r\n                cc.sys.localStorage.setItem('effect', JSON.stringify(1));\r\n            }\r\n            else {\r\n                this.node.parent.getChildByName(\"soundEffectsButton\").getChildByName(\"Background\").getChildByName(\"Label\").getComponent(cc.Label).string = \"音效：关\";\r\n                cc.sys.localStorage.setItem('effect', JSON.stringify(0));\r\n            }\r\n        }\r\n        else if (x == 4) {\r\n            cc.director.loadScene(\"help\");\r\n        }\r\n        else if (x == 5) {\r\n            cc.director.loadScene(\"about\");\r\n        }\r\n    },\r\n\r\n    helpCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.director.loadScene(\"settings\");\r\n        }\r\n    },\r\n\r\n    aboutCallback: function (button, x) {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.buttonPlay();\r\n        \r\n        if (x == 1) {\r\n            cc.director.loadScene(\"settings\");\r\n        }\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n     update (dt) {\r\n\t\t console.log(this.player.tiledTile.x);console.log(this.player.tiledTile.y);\r\n\t },\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.game.addPersistRootNode(this.node);\r\n        cc.sys.localStorage.setItem('music', JSON.stringify(1));\r\n        cc.sys.localStorage.setItem('effect', JSON.stringify(1));\r\n    },\r\n\r\n    start () {\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        title: cc.Label,\r\n        content: cc.Node,\r\n        buttons: cc.Node,\r\n        textItem: cc.Prefab,\r\n        imgItem: cc.Prefab,\r\n        simpleBtn: cc.Prefab,\r\n        closeBtn: cc.Node\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n    },\r\n\r\n    //初始化方法，两个可选的字符串参数\r\n    init: function(title, content){\r\n        this.node.on(\"touchstart\", function(event, touch){\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.node.on(\"touchmove\", function(event, touch){\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.node.on(\"touchcancel\", function(event, touch){\r\n            event.stopPropagation();\r\n        });\r\n\r\n        this.node.on(\"touchend\", function(event, touch){\r\n            event.stopPropagation();\r\n        });\r\n        if(typeof title != \"undefined\"){\r\n            this.title.string = title;\r\n        }\r\n        if(typeof content != \"undefined\"){\r\n            this.addLabel(content);\r\n        }\r\n        return this;\r\n    },\r\n    //添加自定义节点\r\n    addContentNode: function(contentNode){\r\n        this.content.addChild(contentNode);\r\n        return this;\r\n    },\r\n    //添加图片\r\n    addImage: function(spriteFrame){\r\n        var spNode = cc.instantiate(this.imgItem);\r\n        spNode.getComponent(cc.Sprite).spriteFrame = spriteFrame;\r\n        this.content.addChild(spNode);\r\n        return this;\r\n    },\r\n    //添加文本标签\r\n    addLabel: function(text){\r\n        var lb = cc.instantiate(this.textItem);\r\n        lb.getComponent(cc.Label).string =text;\r\n        this.content.addChild(lb);\r\n        return this;\r\n    },\r\n    //这里是设置background节点的背景，background节点在moduleDialog预制里，并不是对话框的背景\r\n    setBackGround: function(colorOrSpriteFrame, opacity){\r\n        var bg = this.node.getChildByName(\"background\");\r\n        if(typeof colorOrSpriteFrame != \"undefined\"){\r\n            cc.log(\"no undefined\");\r\n            \r\n            if(colorOrSpriteFrame instanceof cc.SpriteFrame){\r\n                cc.log(\"is spriteFrame\");\r\n                bg.getChildByName(\"background\").getComponent(cc.Sprite).spriteFrame = colorOrSpriteFrame;\r\n            }\r\n            if(colorOrSpriteFrame instanceof cc.Color){\r\n                cc.log(\"is color ===r-\" + colorOrSpriteFrame.r + \"====g-\" + colorOrSpriteFrame.g + \"====b-\" + colorOrSpriteFrame.b + \"===a-\" + colorOrSpriteFrame.a);\r\n                bg.color = colorOrSpriteFrame;\r\n            }\r\n        }\r\n\r\n        if(typeof opacity != \"undefined\"){\r\n            bg.opacity = opacity;\r\n        }\r\n        return this;\r\n    },\r\n    //设置对话框标题，没有参数默认标题为“提示”\r\n    setTitle: function(title){\r\n        if(typeof title != \"undefined\"){\r\n            this.title.string = title;\r\n        }else{\r\n            this.title.string = \"软件工程\";\r\n        }\r\n        return this;\r\n    },\r\n    //清空对话框内容，不清空已有标题和已有按钮\r\n    emptyContent: function(){\r\n        this.content.removeAllChildren();\r\n        return this;\r\n    },\r\n    //重置对话框，清空对话框的内容、标题、所有按钮\r\n    reset: function(){\r\n        cc.log(\"reset\");\r\n        this.title.string = \"\";\r\n        this.content.removeAllChildren();\r\n        this.buttons.removeAllChildren();\r\n        return this;\r\n    },\r\n    //禁用对话框的关闭按钮，用于必须进行交互的情况下\r\n    disabledCloseBtn: function(){\r\n        this.closeBtn.active ? this.closeBtn.active = false : null;\r\n        return this;\r\n    },\r\n    //启用对话框的关闭按钮\r\n    enabledCloseBtn: function(){\r\n        !this.closeBtn.active ? this.closeBtn.active = true : null;\r\n        return this;\r\n    },\r\n\r\n    //添加按钮，两个可选参数，如果没有第二个参数，按钮的默认功能是关闭对话框\r\n    addButton: function(text, eventHandler){\r\n        var btn = cc.instantiate(this.simpleBtn);\r\n        if(typeof text != \"undefined\"){\r\n            btn.getChildByName(\"Label\").getComponent(cc.Label).string = text;\r\n            btn.name = text;\r\n        }\r\n        var b = btn.getComponent(cc.Button);\r\n        if(typeof eventHandler == \"undefined\"){\r\n            var clickEventHandler = new cc.Component.EventHandler();\r\n            clickEventHandler.target = this.node;\r\n            clickEventHandler.component = \"moduleDialog\",\r\n            clickEventHandler.handler = \"close\";\r\n            clickEventHandler.customEventData = \"\";\r\n            b.clickEvents.push(clickEventHandler);\r\n        }else{\r\n            b.clickEvents.push(eventHandler);\r\n            cc.log(\"eventHandler.customEventData = \" + eventHandler.customEventData);\r\n        }\r\n        \r\n        this.buttons.addChild(btn);\r\n        cc.log(\"add button \" + text);\r\n        return this;\r\n    },\r\n\r\n    //设置按钮按下时传递的数据（因为默认在添加按钮的时候就要设置按钮数据，但是有可能添加之后还会更改）\r\n    setEventData: function(btnName, eventData){\r\n        var btn = this.buttons.getChildByName(btnName);\r\n        btn.getComponent(cc.Button).clickEvents[0].customEventData = eventData;\r\n        return this;\r\n    },\r\n    //根据按钮的名字来禁用按钮（添加按钮的时候按钮的名字就是传入的字符串）\r\n    disabledBtnByName: function(btnName){\r\n        this.buttons.getChildByName(btnName).active = false;\r\n        return this;\r\n    },\r\n    //根据按钮的名字来启用按钮\r\n    enabledBtnByName: function(btnName){\r\n        this.buttons.getChildByName(btnName).active = true;\r\n        return this;\r\n    },\r\n\r\n    //关闭对话框\r\n    close: function(event, customEventData){\r\n        this.node.destroy();\r\n    },\r\n    //隐藏对话框\r\n    hide: function () {\r\n        this.node.active ? this.node.active = false : null;\r\n    },\r\n    //显示对话框\r\n    show: function () {\r\n        this.node.active ? null: this.node.active = true;\r\n    }\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        button: cc.button,\r\n\r\n        bgMusic: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.game.addPersistRootNode(this.node);\r\n        this.playMusic();\r\n    },\r\n\r\n    playMusic: function () {\r\n        var music = JSON.parse(cc.sys.localStorage.getItem('music'));\r\n        if (music != 0) {\r\n            this.musicChannel = cc.audioEngine.play(this.bgMusic, true, 1);\r\n        }\r\n    },\r\n\r\n    pause: function () {\r\n        cc.audioEngine.pause(this.musicChannel);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\trank:1,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\t\tthis.node.getChildByName(\"text1\").y=266;\r\n\t\tthis.node.getChildByName(\"text2\").y=190;\r\n\t\tthis.node.getChildByName(\"text3\").y=114;\r\n\t\tthis.node.getChildByName(\"text4\").y=38;\r\n\t\tthis.node.getChildByName(\"text5\").y=-38;\r\n\t\tthis.node.getChildByName(\"text6\").y=-114;\r\n\t\tthis.node.getChildByName(\"text7\").y=-190;\r\n\t\tthis.node.getChildByName(\"text8\").y=-266;\r\n\t\tthis.node.getChildByName(\"text1\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text2\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text3\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text4\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text5\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text6\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text7\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text8\").opacity=0;\r\n\t},\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n\t\t\r\n\t\tswitch(this.rank){\r\n\t\t\tcase 1:if(this.node.getChildByName(\"text1\").opacity<255)this.node.getChildByName(\"text1\").opacity+=3;if(this.node.getChildByName(\"text1\").opacity==255) this.rank++;break;\r\n\t\t\tcase 2:if(this.node.getChildByName(\"text2\").opacity<255)this.node.getChildByName(\"text2\").opacity+=3;if(this.node.getChildByName(\"text2\").opacity==255) this.rank++;break;\r\n\t\t\tcase 3:if(this.node.getChildByName(\"text3\").opacity<255)this.node.getChildByName(\"text3\").opacity+=3;if(this.node.getChildByName(\"text3\").opacity==255) this.rank++;break;\r\n\t\t\tcase 4:if(this.node.getChildByName(\"text4\").opacity<255)this.node.getChildByName(\"text4\").opacity+=3;if(this.node.getChildByName(\"text4\").opacity==255) this.rank++;break;\r\n\t\t\tcase 5:if(this.node.getChildByName(\"text5\").opacity<255)this.node.getChildByName(\"text5\").opacity+=3;if(this.node.getChildByName(\"text5\").opacity==255) this.rank++;break;\r\n\t\t\tcase 6:if(this.node.getChildByName(\"text6\").opacity<255)this.node.getChildByName(\"text6\").opacity+=3;if(this.node.getChildByName(\"text6\").opacity==255) this.rank++;break; \r\n\t\t\tcase 7:if(this.node.getChildByName(\"text7\").opacity<255)this.node.getChildByName(\"text7\").opacity+=3;if(this.node.getChildByName(\"text7\").opacity==255) this.rank++;break; \r\n\t\t\tcase 8:if(this.node.getChildByName(\"text8\").opacity<255)this.node.getChildByName(\"text8\").opacity+=3;\r\n\t\t}\r\n\t},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        button: cc.button,\r\n        player: cc.TiledTile,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.player = this.node.parent;\r\n        this.player.tiledTile = this.player.getComponent(cc.TiledTile);\r\n        this.button.node.on('click', this.callback.this);\r\n    },\r\n\r\n    start () {\r\n        \r\n    },\r\n\r\n    callback (button) {\r\n        cc.sys.localStorage.setItem('playerScene', JSON.stringify(\"F1\"));\r\n        cc.sys.localStorage.setItem('playerX', JSON.stringify(185));\r\n        cc.sys.localStorage.setItem('playerY', JSON.stringify(120));\r\n        cc.director.loadScene(\"F1\");\r\n    }\r\n\r\n    \r\n    // update (dt) {},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\n/* 一个场景中所有标志物的父节点,功能包括接受各个标志物的信息，并适当地写入到data组件中\r\nevent_list:所有监听的标志物发送的事件\r\nreport(event)：接收到监听的事件时，修改data中的内容\r\n*/\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        data_module:{\r\n            type:cc.Node,\r\n            default:null,\r\n        },\r\n        event_list:{\r\n            type:cc.String,\r\n            default:[],\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    report(event){\r\n        console.log(event.type);\r\n        var data = this.data_module.getComponent(\"data\");\r\n        console.log(\"data availability:\", data.available);\r\n        if(data.available==0){data.event=event.type;data.available=1;}\r\n    },\r\n    onLoad () {\r\n        this.data_module=cc.find(\"data_module\");\r\n        cc.director.getCollisionManager().enabled=true;\r\n        cc.director.getCollisionManager().enabledDebugDraw = false;\r\n        for(var i=0;i<this.event_list.length;i++)\r\n        {this.node.on(this.event_list[i],this.report,this);\r\n        console.log(\"listener add:\", this.event_list[i])}\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n \r\n/*\r\n        这个组件用于对每一层地图的初始化:\r\n        (1) onLoad():读取所需要的文件的名字到this.file，并将data_module改为可修改的状态\r\n        (2) start():根据this.file 读取json，读取x,y坐标 并更改节点坐标\r\n*/\r\ncc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },S\r\n        file:\"\",\r\n        preprocess:false,\r\n        scene_name:\"\",\r\n        print:false,\r\n    },\r\n \r\n    // LIFE-CYCLE CALLBACKS:\r\n \r\n    onLoad () {\r\n        cc.log(this.init_x);\r\n        var dm=cc.find(\"data_module\").getComponent(\"data\");\r\n        var f=\"\";\r\n        if(dm.available==2&&dm.legal_scene==this.scene_name){\r\n            cc.log(\"Get from DM\");\r\n            dm.available=0;\r\n            dm.event=\"\";\r\n            dm.legal_scene=\"\";\r\n            f=dm.filename;\r\n            cc.log(f);\r\n            this.file=f;\r\n        }\r\n    },\r\n \r\n    start () {\r\n        cc.log(\"this.file is\",this.file);\r\n        cc.log(\"super node\",cc.find(\"super_node\"));\r\n        cc.log(\"data \",cc.find(\"data_module\"));\r\n        if(this.file.length>1){\r\n            var self=this;\r\n            cc.loader.loadRes(this.file, function (err, object) {\r\n                if (err) {\r\n                    cc.error(err);\r\n                    return;\r\n                }\r\n                var init_x=Number(JSON.stringify(object.json['x']));\r\n                var init_y=Number(JSON.stringify(object.json['y']));\r\n                cc.log(\"read file\",self.file);\r\n                cc.log(\"from json\",init_x, init_y);\r\n                cc.log(\"x,y\",init_x,init_y);\r\n                var tt=self.node.getComponent(cc.TiledTile);\r\n                tt.x=init_x;\r\n                tt.y=init_y;\r\n            });\r\n            this.preprocess=true;\r\n        }\r\n        else{\r\n            this.preprocess=true;\r\n        }\r\n    },\r\n \r\n    update (dt) {\r\n        if(this.print){\r\n        var tt=this.node.getComponent(cc.TiledTile);\r\n        cc.log(tt.x,tt.y);}\r\n        if(!this.preprocess){\r\n            return;\r\n        }\r\n    },\r\n});\r\n \r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        buttonSound:{\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        pickSound: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        switchSound: {\r\n            type: cc.AudioClip,\r\n            default: null,\r\n        },\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.game.addPersistRootNode(this.node);\r\n        \r\n        /*var music = JSON.parse(cc.sys.localStorage.getItem('music'));\r\n        if (music != 0) {\r\n            this.play();\r\n        }*/\r\n    },\r\n\r\n    mainPlay: function () {\r\n        var effect = JSON.parse(cc.sys.localStorage.getItem('effect'));\r\n        if (effect != 0) {\r\n            this.seChannel = cc.audioEngine.play(this.mainSound, false, 1);\r\n        }\r\n    },\r\n\r\n    buttonPlay: function () {\r\n        var effect = JSON.parse(cc.sys.localStorage.getItem('effect'));\r\n        if (effect != 0) {\r\n            this.seChannel = cc.audioEngine.play(this.buttonSound, false, 1);\r\n        }\r\n    },\r\n\r\n    pickPlay: function () {\r\n        var effect = JSON.parse(cc.sys.localStorage.getItem('effect'));\r\n        if (effect != 0) {\r\n            this.seChannel = cc.audioEngine.play(this.pickSound, false, 1);\r\n        }\r\n    },\r\n\r\n    switchPlay: function () {\r\n        var effect = JSON.parse(cc.sys.localStorage.getItem('effect'));\r\n        if (effect != 0) {\r\n            this.seChannel = cc.audioEngine.play(this.switchSound, false, 1);\r\n        }\r\n    },\r\n\r\n    pause: function () {\r\n        cc.audioEngine.pause(this.seChannel);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n \r\n// 附加在场景中的sprite（位置固定）的组件，比如固定在楼梯口位置的sprite，用来检测\r\n/*event_id：如果受到人物figure碰撞后，向上汇报的事件名称*/\r\ncc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        event_id:\"\",\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        \r\n    },\r\n \r\n    // LIFE-CYCLE CALLBACKS:\r\n \r\n    onLoad () {\r\n        console.log(\"detect collision\");\r\n    },\r\n \r\n    start () {\r\n \r\n    },\r\n    onCollisionEnter(other,self){\r\n        console.log(\"collide---\");\r\n        this.node.dispatchEvent(new cc.Event.EventCustom(this.event_id,true));\r\n        console.log(\"dispatch event \", this.event_id);\r\n    },\r\n \r\n    update (dt) {\r\n    },\r\n});\r\n \r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\t\trank:1,\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n     onLoad () {\r\n\r\n\t\tthis.node.getChildByName(\"text1\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text2\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text3\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text4\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text5\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text6\").opacity=0;\r\n\t\tthis.node.getChildByName(\"text7\").opacity=0;\r\n\r\n\t},\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n\t\t\r\n\t\tswitch(this.rank){\r\n\t\t\tcase 1:if(this.node.getChildByName(\"text1\").opacity<255)this.node.getChildByName(\"text1\").opacity+=3;if(this.node.getChildByName(\"text1\").opacity==255) this.rank++;break;\r\n\t\t\tcase 2:if(this.node.getChildByName(\"text2\").opacity<255)this.node.getChildByName(\"text2\").opacity+=3;if(this.node.getChildByName(\"text2\").opacity==255) this.rank++;break;\r\n\t\t\tcase 3:if(this.node.getChildByName(\"text3\").opacity<255)this.node.getChildByName(\"text3\").opacity+=3;if(this.node.getChildByName(\"text3\").opacity==255) this.rank++;break;\r\n\t\t\tcase 4:if(this.node.getChildByName(\"text4\").opacity<255)this.node.getChildByName(\"text4\").opacity+=3;if(this.node.getChildByName(\"text4\").opacity==255) this.rank++;break;\r\n\t\t\tcase 5:if(this.node.getChildByName(\"text5\").opacity<255)this.node.getChildByName(\"text5\").opacity+=3;if(this.node.getChildByName(\"text5\").opacity==255) this.rank++;break;\r\n\t\t\tcase 6:if(this.node.getChildByName(\"text6\").opacity<255)this.node.getChildByName(\"text6\").opacity+=3;if(this.node.getChildByName(\"text6\").opacity==255) this.rank++;break; \r\n\t\t\tcase 7:if(this.node.getChildByName(\"text7\").opacity<255)this.node.getChildByName(\"text7\").opacity+=3; \r\n\t\t}\r\n\t},\r\n});\r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n \r\n//控制场景切换的“上帝”节点 \r\n/*\r\n    default_scene:在game-loading字样后出现的场景\r\n    实时监控data中的内容，一旦available=1，就将读取其所接收的event，\r\n    根据event_map.json，寻找对应的目标场景和对应的参数文件，然后修改data.available为2\r\n */\r\ncc.Class({\r\n    extends: cc.Component,\r\n \r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        data_module:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        map_file:cc.String,\r\n    },\r\n \r\n    // LIFE-CYCLE CALLBACKS:\r\n \r\n    onLoad () {\r\n        cc.game.addPersistRootNode(this.node);\r\n        console.log(\"super control init\");\r\n        cc.log(\"data state:\",this.data_module.getComponent(\"data\").available);\r\n        cc.loader.loadRes(this.map_file, function (err, object) {\r\n            if (err) {\r\n                cc.error(err);\r\n                return;\r\n            }\r\n            cc.log(\"file \",object.json[\"MapN_B1_Elv\"]);\r\n        });\r\n    },\r\n \r\n    start () {\r\n \r\n    },\r\n \r\n    update (dt) {\r\n        var data = this.data_module.getComponent(\"data\");\r\n        if(data.available==1){\r\n            cc.loader.loadRes(this.map_file, function (err, object) {\r\n                if (err) {\r\n                    cc.error(err);\r\n                    return;\r\n                }\r\n                var scene_name=JSON.stringify(object.json[data.event][0]).slice(1,-1);\r\n                var file_name=JSON.stringify(object.json[data.event][1]).slice(1,-1);\r\n                cc.log(\"target scene is \",scene_name);\r\n                cc.director.loadScene(scene_name);\r\n                data.available=2;\r\n                data.filename=file_name;\r\n                data.event=\"\";\r\n                data.legal_scene=scene_name;\r\n                cc.log(data.filename)\r\n            });\r\n        }\r\n    },\r\n});\r\n \r\n","// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.effectPlayer = cc.find(\"soundEffect\").getComponent(\"soundEffect\");\r\n        this.effectPlayer.switchPlay();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"],"sourceRoot":"/source/","file":"project.js"}